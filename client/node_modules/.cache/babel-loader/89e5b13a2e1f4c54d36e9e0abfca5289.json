{"ast":null,"code":"import _regeneratorRuntime from \"/home/costantinos/Documenti/Dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/costantinos/Documenti/Dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/costantinos/Documenti/Dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/home/costantinos/Documenti/Dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/costantinos/Documenti/Dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/home/costantinos/Documenti/Dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/costantinos/Documenti/Dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/costantinos/Documenti/Dapp/src/components/App.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport './App.css';\nimport ReactDOM from 'react-dom';\nimport Dapp from '../abis/Dapp.json';\nimport { OBJViewer, STLViewer } from 'react-stl-obj-viewer';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport designVoting from '../abis/designVoting.json';\nimport { ethers } from \"ethers\";\nimport bs58 from 'bs58';\nimport CurrencyInput from 'react-currency-input';\nimport { keccak256 } from 'js-sha3';\n\nvar NodeStl = require(\"node-stl\"); //connessione al nodo di infura per ipfs\n\n\nvar ipfsClient = require('ipfs-http-client');\n\nvar ipfs = ipfsClient({\n  host: 'ipfs.infura.io',\n  port: 5001,\n  protocol: 'https'\n});\nvar web3s = new Web3(new Web3.providers.WebsocketProvider('ws://localhost:7546')); //tipi di formato .stl (più comune) 3MF AMF e .obj(open source)\n// usa accept\n// url example:'https://ipfs.infura.io/ipfs/QmZsdEtccredWWGZzZvU5fStsC7aWADJch588qAarGTky9'\n//{`https://ipfs.infura.io/ipfs/${this.state.designHash}`}\n//const user = []\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    //operazioni quando il componente viene chiamato\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.loadWeb3();\n\n              case 2:\n                if (!(this.state.ethBrowser == true)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _context.next = 5;\n                return this.loadBlockchainData();\n\n              case 5:\n                _context.next = 7;\n                return this.subscriptionEvents();\n\n              case 7:\n                _context.next = 9;\n                return this.cookiesLog();\n\n              case 9:\n                _context.next = 11;\n                return this.setState({\n                  loading: false\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"cookiesLog\",\n    value: function () {\n      var _cookiesLog = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var _this2 = this;\n\n        var isLogged, inMain, inAnn, name, surname, email, designer, player, currentDesigns, playerDet, playerDetails, designIndex, manager, currentDesignsM, designSelectedM, designSel, registeredDesigns, designVotingIndex, calculateResult, calculateResultIndex, k, i, tmp, result2;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                isLogged = Cookies.get('log');\n                inMain = Cookies.get('main');\n                inAnn = Cookies.get('announce');\n                name = Cookies.get('name');\n                surname = Cookies.get('surname');\n                email = Cookies.get('email');\n                designer = Cookies.get('designer');\n                player = Cookies.get('player');\n                currentDesigns = Cookies.get('currentDesigns');\n                playerDet = Cookies.get('playerDet');\n                playerDetails = Cookies.get('playerDetails');\n                designIndex = Cookies.get('designIndex');\n                manager = Cookies.get('manager');\n                currentDesignsM = Cookies.get('currentDesignsM');\n                designSelectedM = Cookies.get('designSelectedM');\n                designSel = Cookies.get('designSel');\n                registeredDesigns = Cookies.get('registeredDesigns');\n                designVotingIndex = Cookies.get('designVotingIndex');\n                calculateResult = Cookies.get('calculateResult');\n                calculateResultIndex = Cookies.get('calculateResultIndex');\n\n                if (!calculateResult) {\n                  _context6.next = 23;\n                  break;\n                }\n\n                _context6.next = 23;\n                return this.setState({\n                  calculateResult: calculateResult\n                });\n\n              case 23:\n                if (!registeredDesigns) {\n                  _context6.next = 26;\n                  break;\n                }\n\n                _context6.next = 26;\n                return this.setState({\n                  registeredDesigns: registeredDesigns\n                });\n\n              case 26:\n                if (!designSelectedM) {\n                  _context6.next = 29;\n                  break;\n                }\n\n                _context6.next = 29;\n                return this.setState({\n                  designSelectedM: designSelectedM\n                });\n\n              case 29:\n                if (!currentDesignsM) {\n                  _context6.next = 32;\n                  break;\n                }\n\n                _context6.next = 32;\n                return this.setState({\n                  currentDesignsM: currentDesignsM\n                });\n\n              case 32:\n                if (!manager) {\n                  _context6.next = 35;\n                  break;\n                }\n\n                _context6.next = 35;\n                return this.setState({\n                  manager: manager\n                });\n\n              case 35:\n                if (!isLogged) {\n                  _context6.next = 38;\n                  break;\n                }\n\n                _context6.next = 38;\n                return this.setState({\n                  isLogged: isLogged\n                });\n\n              case 38:\n                if (!inMain) {\n                  _context6.next = 41;\n                  break;\n                }\n\n                _context6.next = 41;\n                return this.setState({\n                  main: inMain\n                });\n\n              case 41:\n                if (!inAnn) {\n                  _context6.next = 44;\n                  break;\n                }\n\n                _context6.next = 44;\n                return this.setState({\n                  announce: inAnn\n                });\n\n              case 44:\n                if (!name) {\n                  _context6.next = 47;\n                  break;\n                }\n\n                _context6.next = 47;\n                return this.setState({\n                  name: name\n                });\n\n              case 47:\n                if (!surname) {\n                  _context6.next = 50;\n                  break;\n                }\n\n                _context6.next = 50;\n                return this.setState({\n                  surname: surname\n                });\n\n              case 50:\n                if (!email) {\n                  _context6.next = 53;\n                  break;\n                }\n\n                _context6.next = 53;\n                return this.setState({\n                  email: email\n                });\n\n              case 53:\n                if (!designer) {\n                  _context6.next = 56;\n                  break;\n                }\n\n                _context6.next = 56;\n                return this.setState({\n                  designer: designer\n                });\n\n              case 56:\n                if (!player) {\n                  _context6.next = 59;\n                  break;\n                }\n\n                _context6.next = 59;\n                return this.setState({\n                  player: player\n                });\n\n              case 59:\n                if (!currentDesigns) {\n                  _context6.next = 62;\n                  break;\n                }\n\n                _context6.next = 62;\n                return this.setState({\n                  currentDesigns: currentDesigns\n                });\n\n              case 62:\n                if (!designVotingIndex) {\n                  _context6.next = 64;\n                  break;\n                }\n\n                return _context6.delegateYield(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee3() {\n                  var result1, result2, account;\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          result1 = [];\n                          result2 = \"true\";\n                          account = _this2.state.account;\n                          k = 0;\n                          i = 0;\n\n                        case 5:\n                          if (!(i < designVotingIndex)) {\n                            _context3.next = 15;\n                            break;\n                          }\n\n                          _context3.next = 8;\n                          return _this2.state.contract.methods.getRegPlayerAddresses(i).call({\n                            from: _this2.state.account\n                          }).then(\n                          /*#__PURE__*/\n                          function () {\n                            var _ref = _asyncToGenerator(\n                            /*#__PURE__*/\n                            _regeneratorRuntime.mark(function _callee2(re) {\n                              var addresses, isRegistered;\n                              return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                                while (1) {\n                                  switch (_context2.prev = _context2.next) {\n                                    case 0:\n                                      addresses = re;\n                                      console.log(\"addresses\", addresses);\n                                      isRegistered = addresses.includes(account);\n                                      console.log(\"is registered:\", isRegistered);\n\n                                      if (!(isRegistered == true)) {\n                                        _context2.next = 9;\n                                        break;\n                                      }\n\n                                      _context2.next = 7;\n                                      return _this2.state.contract.methods.getDesigne(i).call({\n                                        from: _this2.state.account\n                                      }).then(function (r) {\n                                        result1.push(r);\n                                        console.log(\"result\", k, result1);\n                                        result2 = \"true\";\n                                      });\n\n                                    case 7:\n                                      _context2.next = 12;\n                                      break;\n\n                                    case 9:\n                                      console.log(\"not registered\", i);\n                                      result2 = \"false\";\n                                      k = k - 1;\n\n                                    case 12:\n                                    case \"end\":\n                                      return _context2.stop();\n                                  }\n                                }\n                              }, _callee2);\n                            }));\n\n                            return function (_x) {\n                              return _ref.apply(this, arguments);\n                            };\n                          }());\n\n                        case 8:\n                          console.log(\"decoding\");\n                          console.log(\"result\", result1[k]);\n\n                          if (result2 == \"true\") {\n                            tmp = _this2.getIpfsHashFromBytes32(result1[k].filehash);\n                            tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                            console.log(tmp);\n                            result1[k].filehash = tmp;\n                            result1[k][\"designNo\"] = i;\n                            console.log(result1);\n\n                            _this2.setState({\n                              avaibleDesign: result1\n                            });\n                          }\n\n                          k = k + 1;\n\n                        case 12:\n                          i++;\n                          _context3.next = 5;\n                          break;\n\n                        case 15:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                })(), \"t0\", 64);\n\n              case 64:\n                if (!playerDet) {\n                  _context6.next = 68;\n                  break;\n                }\n\n                playerDet = JSON.parse(playerDet);\n                _context6.next = 68;\n                return this.setState({\n                  playerDet: playerDet\n                });\n\n              case 68:\n                if (!designIndex) {\n                  _context6.next = 70;\n                  break;\n                }\n\n                return _context6.delegateYield(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee4() {\n                  var result1;\n                  return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          console.log(designIndex);\n                          result1 = [];\n                          i = 0;\n\n                        case 3:\n                          if (!(i < designIndex)) {\n                            _context4.next = 11;\n                            break;\n                          }\n\n                          _context4.next = 6;\n                          return _this2.state.contract.methods.getDesigne(i).call({\n                            from: _this2.state.account\n                          }).then(function (r) {\n                            result1.push(r);\n                          });\n\n                        case 6:\n                          console.log(\"decoding\");\n\n                          if (result1[i] != 'undefinied') {\n                            tmp = _this2.getIpfsHashFromBytes32(result1[i].filehash);\n                            tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                            console.log(tmp);\n                            result1[i].filehash = tmp;\n                            result1[i][\"designNo\"] = i;\n                            console.log(result1);\n\n                            _this2.setState({\n                              avaibleDesign: result1\n                            });\n                          }\n\n                        case 8:\n                          i++;\n                          _context4.next = 3;\n                          break;\n\n                        case 11:\n                        case \"end\":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4);\n                })(), \"t1\", 70);\n\n              case 70:\n                if (!playerDetails) {\n                  _context6.next = 73;\n                  break;\n                }\n\n                _context6.next = 73;\n                return this.setState({\n                  playerDetails: playerDetails\n                });\n\n              case 73:\n                if (designSel) {\n                  this.setState({\n                    designSel: designSel\n                  });\n                  this.state.contract.methods.getRegPlayerAddresses(designSel).call({\n                    from: this.state.account\n                  }).then(function (r) {\n                    var result1 = r;\n                    console.log(result1);\n\n                    _this2.setState({\n                      playerList: result1\n                    });\n                  });\n                }\n\n                if (!calculateResultIndex) {\n                  _context6.next = 76;\n                  break;\n                }\n\n                return _context6.delegateYield(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee5() {\n                  var result1;\n                  return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                    while (1) {\n                      switch (_context5.prev = _context5.next) {\n                        case 0:\n                          result1 = [];\n                          result2 = \"true\";\n                          k = 0;\n                          i = 0;\n\n                        case 4:\n                          if (!(i < calculateResultIndex)) {\n                            _context5.next = 13;\n                            break;\n                          }\n\n                          _context5.next = 7;\n                          return _this2.state.contract.methods.getDesigne(i).call({\n                            from: _this2.state.account\n                          }).then(function (r) {\n                            if (r.vendor == _this2.state.account) {\n                              result1.push(r);\n                              result2 = \"true\";\n                            } else {\n                              result2 = \"false\";\n                              k = k - 1;\n                            }\n                          });\n\n                        case 7:\n                          console.log(\"decoding\");\n\n                          if (result2 == \"true\") {\n                            tmp = _this2.getIpfsHashFromBytes32(result1[k].filehash);\n                            tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                            console.log(tmp);\n                            result1[k].filehash = tmp;\n                            result1[k][\"designNo\"] = i;\n                            console.log(result1);\n\n                            _this2.setState({\n                              avaibleDesign: result1\n                            });\n                          }\n\n                          k = k + 1;\n\n                        case 10:\n                          i++;\n                          _context5.next = 4;\n                          break;\n\n                        case 13:\n                        case \"end\":\n                          return _context5.stop();\n                      }\n                    }\n                  }, _callee5);\n                })(), \"t2\", 76);\n\n              case 76:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function cookiesLog() {\n        return _cookiesLog.apply(this, arguments);\n      }\n\n      return cookiesLog;\n    }()\n  }, {\n    key: \"subscriptionEvents\",\n    value: function subscriptionEvents() {\n      this.state.contract1.events.newDesignAvailable(function (error, event) {\n        console.log(event);\n      }).on('data', function (event) {\n        console.log(event); // same results as the optional callback above\n      }).on('changed', function (event) {// remove event from local database\n      }).on('error', console.error);\n      this.state.contract1.events.newPlayerAddition(function (error, event) {\n        console.log(event);\n      }).on('data', function (event) {\n        console.log(event); // same results as the optional callback above\n      }).on('changed', function (event) {// remove event from local database\n      }).on('error', console.error);\n      this.state.contract1.events.newPlayerRegistration(function (error, event) {\n        console.log(event);\n      }).on('data', function (event) {\n        console.log(event); // same results as the optional callback above\n      }).on('changed', function (event) {// remove event from local database\n      }).on('error', console.error);\n      this.state.contract1.events.playerDesignReceived(function (error, event) {\n        console.log(event);\n      }).on('data', function (event) {\n        console.log(event); // same results as the optional callback above\n      }).on('changed', function (event) {// remove event from local database\n      }).on('error', console.error);\n      this.state.contract1.events.playerRevealed(function (error, event) {\n        console.log(event);\n      }).on('data', function (event) {\n        console.log(event); // same results as the optional callback above\n      }).on('changed', function (event) {// remove event from local database\n      }).on('error', console.error);\n    } //carico la finestra (metamask) web3 o la converto in web3\n\n  }, {\n    key: \"loadWeb3\",\n    value: function () {\n      var _loadWeb = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7() {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!window.ethereum) {\n                  _context7.next = 8;\n                  break;\n                }\n\n                window.web3 = new Web3(window.ethereum);\n                _context7.next = 4;\n                return window.ethereum.enable();\n\n              case 4:\n                _context7.next = 6;\n                return this.setState({\n                  ethBrowser: true\n                });\n\n              case 6:\n                _context7.next = 20;\n                break;\n\n              case 8:\n                if (!window.web3) {\n                  _context7.next = 14;\n                  break;\n                }\n\n                window.web3 = new Web3(window.web3.currentProvider);\n                _context7.next = 12;\n                return this.setState({\n                  ethBrowser: true\n                });\n\n              case 12:\n                _context7.next = 20;\n                break;\n\n              case 14:\n                console.log('Non-Ethereum browser detected. ');\n                _context7.next = 17;\n                return this.setState({\n                  ethBrowser: false\n                });\n\n              case 17:\n                _context7.next = 19;\n                return this.setState({\n                  loading: false\n                });\n\n              case 19:\n                return _context7.abrupt(\"return\");\n\n              case 20:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function loadWeb3() {\n        return _loadWeb.apply(this, arguments);\n      }\n\n      return loadWeb3;\n    }() // dati della blockchain:\n    //account è l'indirizzo di colui che firma la transazione\n    //networkid è l'id della connessione es:localhost:7545\n    //contract è la variabile del contratto\n    //designHash è l'hash del file salvato sull'ipfs\n\n  }, {\n    key: \"loadBlockchainData\",\n    value: function () {\n      var _loadBlockchainData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8() {\n        var web3, accounts, networkId, networkData, contract, contract1;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                web3 = window.web3;\n                _context8.next = 3;\n                return web3.eth.getAccounts();\n\n              case 3:\n                accounts = _context8.sent;\n                this.setState({\n                  account: accounts[0]\n                });\n                console.log(accounts);\n                _context8.next = 8;\n                return web3.eth.net.getId();\n\n              case 8:\n                networkId = _context8.sent;\n                console.log(networkId);\n                networkData = designVoting.networks[networkId];\n                console.log(networkData);\n\n                if (networkData) {\n                  contract = web3.eth.Contract(designVoting.abi, networkData.address);\n                  contract1 = web3s.eth.Contract(designVoting.abi, networkData.address);\n                  this.setState({\n                    contract: contract,\n                    contract1: contract1\n                  });\n                } else {\n                  window.alert('Smart contract not deployed to detected network.');\n                }\n\n              case 13:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function loadBlockchainData() {\n        return _loadBlockchainData.apply(this, arguments);\n      }\n\n      return loadBlockchainData;\n    }()\n  }, {\n    key: \"getBytes32FromIpfsHash\",\n    value: function getBytes32FromIpfsHash(_ipfsListing) {\n      return \"0x\" + bs58.decode(_ipfsListing).slice(2).toString('hex');\n    }\n  }, {\n    key: \"getIpfsHashFromBytes32\",\n    value: function getIpfsHashFromBytes32(bytes32Hex) {\n      var hashHex = \"1220\" + bytes32Hex.slice(2);\n      var hashBytes = Buffer.from(hashHex, 'hex');\n      var hashStr = bs58.encode(hashBytes);\n      return hashStr;\n    }\n  }]);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.testMeta = function (event) {\n      event.preventDefault();\n      var web3 = window.web3;\n      var try1 = web3.eth.accounts.create();\n      console.log(try1);\n    };\n\n    _this.startApi = function (event) {\n      event.preventDefault();\n      axios.get('http://127.0.0.1:5000/api/get1').then(function (response) {\n        console.log(response.data);\n      });\n    };\n\n    _this.startApi2 =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee9(event) {\n        var username, password, hpassword, wallet;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"sending data\");\n                username = _this.state.username;\n                password = _this.state.password;\n                hpassword = keccak256(password).toString('hex');\n                wallet = _this.state.account;\n\n                if (wallet == \"0x22B4d38AE07fEac63Da3fa2B33b72558874F2Cf6\") {\n                  console.log(\"manager setting\");\n\n                  _this.setState({\n                    manager: true\n                  });\n\n                  Cookies.set('manager', 'true');\n                }\n\n                axios.post('http://127.0.0.1:5000/api/post1', {\n                  username: username,\n                  password: hpassword,\n                  wallet: wallet\n                }).then(function (response) {\n                  if (response.data.length == 1) {\n                    var name = response.data[0][3];\n                    var surname = response.data[0][4];\n                    var email = response.data[0][6];\n                    var registrationType = response.data[0][7];\n\n                    if (registrationType == \"designer\") {\n                      _this.setState({\n                        designer: true\n                      });\n\n                      console.log(\"logged as designer\");\n                    } else if (registrationType == \"player\") {\n                      _this.setState({\n                        player: true\n                      });\n\n                      console.log(\"logged as player\");\n                    } else if (registrationType == \"both\") {\n                      _this.setState({\n                        designer: true,\n                        player: true\n                      });\n\n                      console.log(\"logged as player and designer\");\n                    } else {\n                      console.log(\"error\");\n                      return;\n                    }\n\n                    _this.setState({\n                      isLogged: true,\n                      name: name,\n                      surname: surname,\n                      email: email\n                    });\n\n                    _this.setState({\n                      main: true\n                    });\n\n                    var designer = _this.state.designer;\n                    var player = _this.state.player;\n                    Cookies.set('name', name);\n                    Cookies.set('surname', surname);\n                    Cookies.set('email', email);\n                    Cookies.set('log', 'true');\n                    Cookies.set('main', 'true');\n                    Cookies.set('designer', designer);\n                    Cookies.set('player', player);\n                    console.log(response.data[0]);\n                  } else {\n                    _this.setState({\n                      invalidLogin: true\n                    });\n\n                    console.log(\"invalid login\");\n                  }\n                });\n\n              case 8:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFileL =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee10(event) {\n        var stri;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging username\");\n                stri = event.target.value;\n                _context10.next = 5;\n                return _this.setState({\n                  username: stri\n                });\n\n              case 5:\n                console.log(_this.state.username);\n\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFileL1 =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee11(event) {\n        var stri;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging password\");\n                stri = event.target.value;\n                _context11.next = 5;\n                return _this.setState({\n                  password: stri\n                });\n\n              case 5:\n                console.log(_this.state.password);\n\n              case 6:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFileL2 =\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee12(event) {\n        var stri, check, check1;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging email\");\n                stri = event.target.value;\n                check = stri.includes(\"@\");\n                check1 = stri.includes(\".\");\n\n                if (!(check && check1)) {\n                  _context12.next = 13;\n                  break;\n                }\n\n                _context12.next = 8;\n                return _this.setState({\n                  invalidEmail: false\n                });\n\n              case 8:\n                _context12.next = 10;\n                return _this.setState({\n                  email: stri\n                });\n\n              case 10:\n                console.log(_this.state.email);\n                _context12.next = 16;\n                break;\n\n              case 13:\n                _context12.next = 15;\n                return _this.setState({\n                  invalidEmail: true\n                });\n\n              case 15:\n                console.log(\"invalidEmail\");\n\n              case 16:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFileL3 =\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee13(event) {\n        var stri;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging name\");\n                stri = event.target.value;\n                _context13.next = 5;\n                return _this.setState({\n                  name: stri\n                });\n\n              case 5:\n                console.log(_this.state.name);\n\n              case 6:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13);\n      }));\n\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFileL4 =\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee14(event) {\n        var stri;\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging surname\");\n                stri = event.target.value;\n                _context14.next = 5;\n                return _this.setState({\n                  surname: stri\n                });\n\n              case 5:\n                console.log(_this.state.surname);\n\n              case 6:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      return function (_x7) {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFileL5 =\n    /*#__PURE__*/\n    function () {\n      var _ref8 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee15(event) {\n        var stri;\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging confirm password\");\n                stri = event.target.value;\n                _context15.next = 5;\n                return _this.setState({\n                  confirmPassword: stri\n                });\n\n              case 5:\n                console.log(_this.state.confirmPassword);\n\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15);\n      }));\n\n      return function (_x8) {\n        return _ref8.apply(this, arguments);\n      };\n    }();\n\n    _this.setRegister =\n    /*#__PURE__*/\n    function () {\n      var _ref9 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee16(event) {\n        return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"register init\");\n                _context16.next = 4;\n                return _this.setState({\n                  register: true\n                });\n\n              case 4:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      }));\n\n      return function (_x9) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _this.Return =\n    /*#__PURE__*/\n    function () {\n      var _ref10 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee17(event) {\n        return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"register aborted\");\n                _context17.next = 4;\n                return _this.setState({\n                  register: false\n                });\n\n              case 4:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17);\n      }));\n\n      return function (_x10) {\n        return _ref10.apply(this, arguments);\n      };\n    }();\n\n    _this.sendData = function (event) {\n      event.preventDefault();\n      var valid = _this.state.invalidEmail;\n      if (valid) return;\n      console.log(\"sending data\");\n      var username = _this.state.username;\n      var password = _this.state.password;\n      var confirmPassword = _this.state.confirmPassword;\n\n      if (confirmPassword == password) {\n        var hpassword = keccak256(password).toString('hex');\n        var wallet = _this.state.account;\n        var email = _this.state.email;\n        var name = _this.state.name;\n        var surname = _this.state.surname;\n        var registrationType = _this.state.registrationType;\n        console.log(wallet);\n        axios.post('http://127.0.0.1:5000/api/post2', {\n          username: username,\n          password: hpassword,\n          wallet: wallet,\n          email: email,\n          name: name,\n          surname: surname,\n          registrationType: registrationType\n        }).then(\n        /*#__PURE__*/\n        function () {\n          var _ref11 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee18(response) {\n            var web3, account, hash, fhash, _web, _account, _hash, _fhash;\n\n            return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n              while (1) {\n                switch (_context18.prev = _context18.next) {\n                  case 0:\n                    console.log(response.data);\n\n                    if (!(response.data == \"succes\")) {\n                      _context18.next = 32;\n                      break;\n                    }\n\n                    _context18.next = 4;\n                    return _this.setState({\n                      register: false\n                    });\n\n                  case 4:\n                    if (!(registrationType == \"player\")) {\n                      _context18.next = 16;\n                      break;\n                    }\n\n                    console.log(\"adding player phase\");\n                    web3 = window.web3;\n                    account = _this.state.account;\n                    console.log(account);\n                    hash = keccak256(account);\n                    fhash = '0x' + hash;\n                    console.log(hash);\n                    _context18.next = 14;\n                    return web3.eth.personal.sign(fhash, account, function (err, res) {\n                      if (res) {\n                        console.log(\"signature:\", res);\n                        web3.eth.personal.ecRecover(fhash, res).then(console.log);\n\n                        _this.state.contract.methods.addPlayer(fhash, res).send({\n                          from: account\n                        }).on('error', function (error) {\n                          var string = error.message;\n                          var substring = \"Player already added to the system.\";\n                          var substring1 = \"MetaMask Tx Signature: User denied transaction signature.\";\n                          var substring2 = \"The registration identity verification failed.\";\n                          if (string.includes(substring)) console.log(substring);\n                          if (string.includes(substring1)) console.log(substring1);\n                          if (string.includes(substring2)) console.log(substring2);\n                          return;\n                        });\n                      }\n\n                      if (err) {\n                        console.log(\"err\");\n                        return;\n                      }\n                    });\n\n                  case 14:\n                    _context18.next = 30;\n                    break;\n\n                  case 16:\n                    if (!(registrationType == \"both\")) {\n                      _context18.next = 28;\n                      break;\n                    }\n\n                    console.log(\"adding player phase (from both)\");\n                    _web = window.web3;\n                    _account = _this.state.account;\n                    console.log(_account);\n                    _hash = keccak256(_account);\n                    _fhash = '0x' + _hash;\n                    console.log(_fhash);\n                    _context18.next = 26;\n                    return _web.eth.personal.sign(_fhash, _account, function (err, res) {\n                      if (res) {\n                        console.log(\"signature:\", res);\n\n                        _web.eth.personal.ecRecover(_fhash, res).then(console.log);\n\n                        _this.state.contract.methods.addPlayer(_fhash, res).send({\n                          from: _account\n                        }).on('error', function (error) {\n                          var string = error.message;\n                          var substring = \"Player already added to the system.\";\n                          var substring1 = \"MetaMask Tx Signature: User denied transaction signature.\";\n                          var substring2 = \"The registration identity verification failed.\";\n                          if (string.includes(substring)) console.log(substring);\n                          if (string.includes(substring1)) console.log(substring1);\n                          if (string.includes(substring2)) console.log(substring2);\n                          return;\n                        });\n                      }\n\n                      if (err) {\n                        console.log(\"err\");\n                        return;\n                      }\n                    });\n\n                  case 26:\n                    _context18.next = 30;\n                    break;\n\n                  case 28:\n                    console.log(\"designer\");\n                    return _context18.abrupt(\"return\");\n\n                  case 30:\n                    _context18.next = 35;\n                    break;\n\n                  case 32:\n                    console.log(\"invalid registration\");\n\n                    _this.setState({\n                      invalidPassword: false\n                    });\n\n                    _this.setState({\n                      invalidRegistration: true\n                    });\n\n                  case 35:\n                  case \"end\":\n                    return _context18.stop();\n                }\n              }\n            }, _callee18);\n          }));\n\n          return function (_x11) {\n            return _ref11.apply(this, arguments);\n          };\n        }());\n      } else {\n        console.log(\"invalid password\");\n\n        _this.setState({\n          invalidRegistration: false\n        });\n\n        _this.setState({\n          invalidPassword: true\n        });\n\n        return;\n      }\n    };\n\n    _this.logoutU =\n    /*#__PURE__*/\n    function () {\n      var _ref12 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee19(event) {\n        return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"logout\");\n                Cookies.remove('log');\n                Cookies.remove('announce');\n                Cookies.remove('name');\n                Cookies.remove('surname');\n                Cookies.remove('email');\n                Cookies.remove('designer');\n                Cookies.remove('player');\n                Cookies.remove('manager');\n                _context19.next = 12;\n                return _this.setState({\n                  isLogged: false\n                });\n\n              case 12:\n                _context19.next = 14;\n                return _this.setState({\n                  announce: false\n                });\n\n              case 14:\n                console.log(_this.state.isLogged);\n\n              case 15:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19);\n      }));\n\n      return function (_x12) {\n        return _ref12.apply(this, arguments);\n      };\n    }();\n\n    _this.registrationType =\n    /*#__PURE__*/\n    function () {\n      var _ref13 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee20(event) {\n        var registrationType;\n        return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"type registration selected\");\n                registrationType = event.target.value;\n                console.log(_this.state.registrationType);\n                console.log(event.target.value);\n                _context20.next = 7;\n                return _this.setState({\n                  registrationType: registrationType\n                });\n\n              case 7:\n                console.log(_this.state.registrationType);\n\n              case 8:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20);\n      }));\n\n      return function (_x13) {\n        return _ref13.apply(this, arguments);\n      };\n    }();\n\n    _this.toUpload =\n    /*#__PURE__*/\n    function () {\n      var _ref14 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee21(event) {\n        return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to Upload a design\");\n                _context21.next = 4;\n                return _this.setState({\n                  announce: true\n                });\n\n              case 4:\n                _context21.next = 6;\n                return _this.setState({\n                  main: false\n                });\n\n              case 6:\n                Cookies.set('announce', 'true');\n                Cookies.remove('main');\n\n              case 8:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21);\n      }));\n\n      return function (_x14) {\n        return _ref14.apply(this, arguments);\n      };\n    }();\n\n    _this.logoutM =\n    /*#__PURE__*/\n    function () {\n      var _ref15 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee22(event) {\n        return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"logout\");\n                Cookies.remove('log');\n                Cookies.remove('main');\n                Cookies.remove('name');\n                Cookies.remove('surname');\n                Cookies.remove('email');\n                Cookies.remove('designer');\n                Cookies.remove('player');\n                Cookies.remove('manager');\n                _context22.next = 12;\n                return _this.setState({\n                  isLogged: false\n                });\n\n              case 12:\n                _context22.next = 14;\n                return _this.setState({\n                  main: false\n                });\n\n              case 14:\n                console.log(_this.state.isLogged);\n\n              case 15:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22);\n      }));\n\n      return function (_x15) {\n        return _ref15.apply(this, arguments);\n      };\n    }();\n\n    _this.toCurrentDesigns =\n    /*#__PURE__*/\n    function () {\n      var _ref16 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee24(event) {\n        return _regeneratorRuntime.wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to current designs\");\n\n                _this.state.contract.methods.getNumDesignes().call({\n                  from: _this.state.account\n                }).then(\n                /*#__PURE__*/\n                function () {\n                  var _ref17 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee23(res) {\n                    var index, result1, i, tmp;\n                    return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n                      while (1) {\n                        switch (_context23.prev = _context23.next) {\n                          case 0:\n                            index = res.toString();\n                            Cookies.set('designIndex', index);\n                            console.log(index);\n                            result1 = [];\n                            i = 0;\n\n                          case 5:\n                            if (!(i < index)) {\n                              _context23.next = 13;\n                              break;\n                            }\n\n                            _context23.next = 8;\n                            return _this.state.contract.methods.getDesigne(i).call({\n                              from: _this.state.account\n                            }).then(function (r) {\n                              result1.push(r);\n                            });\n\n                          case 8:\n                            console.log(\"decoding\");\n\n                            if (result1[i] != 'undefinied') {\n                              tmp = _this.getIpfsHashFromBytes32(result1[i].filehash);\n                              tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                              console.log(tmp);\n                              result1[i].filehash = tmp;\n                              result1[i][\"designNo\"] = i;\n                              console.log(result1);\n\n                              _this.setState({\n                                avaibleDesign: result1\n                              });\n                            }\n\n                          case 10:\n                            i++;\n                            _context23.next = 5;\n                            break;\n\n                          case 13:\n                          case \"end\":\n                            return _context23.stop();\n                        }\n                      }\n                    }, _callee23);\n                  }));\n\n                  return function (_x17) {\n                    return _ref17.apply(this, arguments);\n                  };\n                }());\n\n                _context24.next = 5;\n                return _this.setState({\n                  currentDesigns: true\n                });\n\n              case 5:\n                _context24.next = 7;\n                return _this.setState({\n                  main: false\n                });\n\n              case 7:\n                Cookies.set('currentDesigns', 'true');\n                Cookies.remove('main');\n\n              case 9:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24);\n      }));\n\n      return function (_x16) {\n        return _ref16.apply(this, arguments);\n      };\n    }();\n\n    _this.toPlayerDetails = function (event) {\n      event.preventDefault();\n      console.log(\"to Player details\");\n      var address = _this.state.account;\n      console.log(address);\n\n      _this.state.contract.methods.getPlayerDetails(address).call({\n        from: address\n      }).then(function (r) {\n        console.log(r);\n        r[0] = r[0].toString();\n        r[1] = r[1].toString();\n        r[2] = r[2].toString();\n        console.log(r);\n\n        _this.setState({\n          playerDet: r\n        });\n\n        _this.setState({\n          playerDetails: true\n        });\n\n        _this.setState({\n          main: false\n        });\n\n        Cookies.remove('main');\n        Cookies.set('playerDet', r);\n        Cookies.set('playerDetails', 'true');\n      });\n    };\n\n    _this.toRegisteredDesigns =\n    /*#__PURE__*/\n    function () {\n      var _ref18 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee27(event) {\n        var account;\n        return _regeneratorRuntime.wrap(function _callee27$(_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to registered designs\");\n                account = _this.state.account;\n\n                _this.state.contract.methods.getNumDesignes().call({\n                  from: _this.state.account\n                }).then(\n                /*#__PURE__*/\n                function () {\n                  var _ref19 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee26(res) {\n                    var index, result1, result2, k, i, tmp;\n                    return _regeneratorRuntime.wrap(function _callee26$(_context26) {\n                      while (1) {\n                        switch (_context26.prev = _context26.next) {\n                          case 0:\n                            index = res.toString();\n                            console.log(\"num designes\", index);\n                            Cookies.set('designVotingIndex', index);\n                            result1 = [];\n                            result2 = \"true\";\n                            k = 0;\n                            i = 0;\n\n                          case 7:\n                            if (!(i < index)) {\n                              _context26.next = 17;\n                              break;\n                            }\n\n                            _context26.next = 10;\n                            return _this.state.contract.methods.getRegPlayerAddresses(i).call({\n                              from: _this.state.account\n                            }).then(\n                            /*#__PURE__*/\n                            function () {\n                              var _ref20 = _asyncToGenerator(\n                              /*#__PURE__*/\n                              _regeneratorRuntime.mark(function _callee25(re) {\n                                var addresses, isRegistered;\n                                return _regeneratorRuntime.wrap(function _callee25$(_context25) {\n                                  while (1) {\n                                    switch (_context25.prev = _context25.next) {\n                                      case 0:\n                                        addresses = re;\n                                        console.log(\"addresses\", addresses);\n                                        isRegistered = addresses.includes(account);\n                                        console.log(\"is registered:\", isRegistered);\n\n                                        if (!(isRegistered == true)) {\n                                          _context25.next = 9;\n                                          break;\n                                        }\n\n                                        _context25.next = 7;\n                                        return _this.state.contract.methods.getDesigne(i).call({\n                                          from: _this.state.account\n                                        }).then(function (r) {\n                                          result1.push(r);\n                                          console.log(\"result\", k, result1);\n                                          result2 = \"true\";\n                                        });\n\n                                      case 7:\n                                        _context25.next = 12;\n                                        break;\n\n                                      case 9:\n                                        console.log(\"not registered\");\n                                        result2 = \"false\";\n                                        k = k - 1;\n\n                                      case 12:\n                                      case \"end\":\n                                        return _context25.stop();\n                                    }\n                                  }\n                                }, _callee25);\n                              }));\n\n                              return function (_x20) {\n                                return _ref20.apply(this, arguments);\n                              };\n                            }());\n\n                          case 10:\n                            console.log(\"decoding\");\n                            console.log(\"result\", result1[k]);\n\n                            if (result2 == \"true\") {\n                              tmp = _this.getIpfsHashFromBytes32(result1[k].filehash);\n                              tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                              console.log(tmp);\n                              result1[k].filehash = tmp;\n                              result1[k][\"designNo\"] = i;\n                              console.log(result1);\n\n                              _this.setState({\n                                avaibleDesign: result1\n                              });\n                            }\n\n                            k = k + 1;\n\n                          case 14:\n                            i++;\n                            _context26.next = 7;\n                            break;\n\n                          case 17:\n                          case \"end\":\n                            return _context26.stop();\n                        }\n                      }\n                    }, _callee26);\n                  }));\n\n                  return function (_x19) {\n                    return _ref19.apply(this, arguments);\n                  };\n                }());\n\n                _context27.next = 6;\n                return _this.setState({\n                  registeredDesigns: true\n                });\n\n              case 6:\n                Cookies.set('registeredDesigns', 'true');\n                _context27.next = 9;\n                return _this.setState({\n                  main: false\n                });\n\n              case 9:\n                Cookies.remove('main');\n\n              case 10:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee27);\n      }));\n\n      return function (_x18) {\n        return _ref18.apply(this, arguments);\n      };\n    }();\n\n    _this.toCalculateResult =\n    /*#__PURE__*/\n    function () {\n      var _ref21 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee29(event) {\n        return _regeneratorRuntime.wrap(function _callee29$(_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to calculateResult\");\n\n                _this.state.contract.methods.getNumDesignes().call({\n                  from: _this.state.account\n                }).then(\n                /*#__PURE__*/\n                function () {\n                  var _ref22 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee28(res) {\n                    var index, result1, result2, k, i, tmp;\n                    return _regeneratorRuntime.wrap(function _callee28$(_context28) {\n                      while (1) {\n                        switch (_context28.prev = _context28.next) {\n                          case 0:\n                            index = res.toString();\n                            Cookies.set('calculateResultIndex', index);\n                            console.log(index);\n                            result1 = [];\n                            result2 = \"true\";\n                            k = 0;\n                            i = 0;\n\n                          case 7:\n                            if (!(i < index)) {\n                              _context28.next = 16;\n                              break;\n                            }\n\n                            _context28.next = 10;\n                            return _this.state.contract.methods.getDesigne(i).call({\n                              from: _this.state.account\n                            }).then(function (r) {\n                              if (r.vendor == _this.state.account) {\n                                result1.push(r);\n                                result2 = \"true\";\n                              } else {\n                                result2 = \"false\";\n                                k = k - 1;\n                              }\n                            });\n\n                          case 10:\n                            console.log(\"decoding\");\n\n                            if (result2 == \"true\") {\n                              tmp = _this.getIpfsHashFromBytes32(result1[k].filehash);\n                              tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                              console.log(tmp);\n                              result1[k].filehash = tmp;\n                              result1[k][\"designNo\"] = i;\n                              console.log(result1);\n\n                              _this.setState({\n                                avaibleDesign: result1\n                              });\n                            }\n\n                            k = k + 1;\n\n                          case 13:\n                            i++;\n                            _context28.next = 7;\n                            break;\n\n                          case 16:\n                          case \"end\":\n                            return _context28.stop();\n                        }\n                      }\n                    }, _callee28);\n                  }));\n\n                  return function (_x22) {\n                    return _ref22.apply(this, arguments);\n                  };\n                }());\n\n                _context29.next = 5;\n                return _this.setState({\n                  calculateResult: true\n                });\n\n              case 5:\n                _context29.next = 7;\n                return _this.setState({\n                  main: false\n                });\n\n              case 7:\n                Cookies.set('calculateResult', 'true');\n                Cookies.remove('main');\n\n              case 9:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee29);\n      }));\n\n      return function (_x21) {\n        return _ref21.apply(this, arguments);\n      };\n    }();\n\n    _this.toMainPd =\n    /*#__PURE__*/\n    function () {\n      var _ref23 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee30(event) {\n        return _regeneratorRuntime.wrap(function _callee30$(_context30) {\n          while (1) {\n            switch (_context30.prev = _context30.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to Main\");\n                Cookies.remove('playerDetails');\n                Cookies.remove('playerDet');\n                _context30.next = 6;\n                return _this.setState({\n                  playerDetails: []\n                });\n\n              case 6:\n                _context30.next = 8;\n                return _this.setState({\n                  playerDetails: false\n                });\n\n              case 8:\n                _context30.next = 10;\n                return _this.setState({\n                  main: true\n                });\n\n              case 10:\n                Cookies.set('main', 'true');\n\n              case 11:\n              case \"end\":\n                return _context30.stop();\n            }\n          }\n        }, _callee30);\n      }));\n\n      return function (_x23) {\n        return _ref23.apply(this, arguments);\n      };\n    }();\n\n    _this.refreshPd = function (event) {\n      event.preventDefault();\n      console.log(\"refreshing\");\n      var address = _this.state.account;\n      console.log(address);\n\n      _this.state.contract.methods.getPlayerDetails(address).call({\n        from: address\n      }).then(function (r) {\n        console.log(r);\n        r[0] = r[0].toString();\n        r[1] = r[1].toString();\n        r[2] = r[2].toString();\n        console.log(r);\n\n        _this.setState({\n          playerDet: r\n        });\n\n        Cookies.set('playerDet', r);\n      });\n    };\n\n    _this.toMainC =\n    /*#__PURE__*/\n    function () {\n      var _ref24 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee31(event) {\n        return _regeneratorRuntime.wrap(function _callee31$(_context31) {\n          while (1) {\n            switch (_context31.prev = _context31.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to Main\");\n                Cookies.remove('currentDesigns');\n                Cookies.remove('designIndex');\n                Cookies.remove('designSelectedM');\n                _context31.next = 7;\n                return _this.setState({\n                  currentDesigns: false\n                });\n\n              case 7:\n                _context31.next = 9;\n                return _this.setState({\n                  main: true\n                });\n\n              case 9:\n                Cookies.set('main', 'true');\n\n              case 10:\n              case \"end\":\n                return _context31.stop();\n            }\n          }\n        }, _callee31);\n      }));\n\n      return function (_x24) {\n        return _ref24.apply(this, arguments);\n      };\n    }();\n\n    _this.refreshC = function (event) {\n      event.preventDefault();\n\n      _this.state.contract.methods.getNumDesignes().call({\n        from: _this.state.account\n      }).then(\n      /*#__PURE__*/\n      function () {\n        var _ref25 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee32(res) {\n          var index, result1, i, tmp;\n          return _regeneratorRuntime.wrap(function _callee32$(_context32) {\n            while (1) {\n              switch (_context32.prev = _context32.next) {\n                case 0:\n                  index = res.toString();\n                  Cookies.set('designIndex', index);\n                  console.log(index);\n                  result1 = [];\n                  i = 0;\n\n                case 5:\n                  if (!(i < index)) {\n                    _context32.next = 19;\n                    break;\n                  }\n\n                  _context32.next = 8;\n                  return _this.state.contract.methods.getDesigne(i).call({\n                    from: _this.state.account\n                  }).then(function (r) {\n                    result1.push(r);\n                  });\n\n                case 8:\n                  console.log(\"decoding\");\n                  tmp = _this.getIpfsHashFromBytes32(result1[i].filehash);\n                  tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                  console.log(tmp);\n                  result1[i].filehash = tmp;\n                  result1[i][\"designNo\"] = i;\n                  console.log(result1);\n\n                  _this.setState({\n                    avaibleDesign: result1\n                  });\n\n                case 16:\n                  i++;\n                  _context32.next = 5;\n                  break;\n\n                case 19:\n                case \"end\":\n                  return _context32.stop();\n              }\n            }\n          }, _callee32);\n        }));\n\n        return function (_x25) {\n          return _ref25.apply(this, arguments);\n        };\n      }());\n    };\n\n    _this.designSelected1 = function (event) {\n      event.preventDefault();\n      var index = event.target.value;\n      console.log(\"selected designNo:\", index);\n\n      _this.setState({\n        designSel: index\n      });\n\n      _this.setState({\n        designSelected: true\n      });\n    };\n\n    _this.designSelected2 = function (event) {\n      event.preventDefault();\n      var index = _this.state.designSel;\n      console.log(\"selected designNo:\", index);\n      var web3 = window.web3;\n      var account = _this.state.account;\n      console.log(account);\n      var hash = keccak256(account);\n      var fhash = '0x' + hash;\n      console.log(fhash);\n      web3.eth.personal.sign(fhash, account, function (err, res) {\n        if (res) {\n          var amount1 = _this.state.amount;\n          console.log(amount1);\n          var amount = web3.utils.toWei(amount1.toString(), 'ether');\n          console.log(\"signature:\", res);\n          web3.eth.personal.ecRecover(fhash, res).then(console.log);\n\n          _this.state.contract.methods.register(fhash, res, index, amount).send({\n            from: account,\n            value: amount\n          }).on('error', function (error) {\n            var string = error.message;\n            var substring1 = \"The registration identity verification failed.\";\n            var substring = \"MetaMask Tx Signature: User denied transaction signature.\";\n            var substring2 = \"The commitment should be more than 0.\";\n            var substring3 = \"The registration didn't receive the commitment.\";\n            var substring4 = \"The commitment should be greater than the penalty.\";\n            var substring5 = \"No more registrations are accepted.\";\n            var substring6 = \"Player already registered.\";\n            if (string.includes(substring)) console.log(substring);\n            if (string.includes(substring1)) console.log(substring1);\n            if (string.includes(substring2)) console.log(substring2);\n            if (string.includes(substring3)) console.log(substring3);\n            if (string.includes(substring4)) console.log(substring4);\n            if (string.includes(substring5)) console.log(substring5);\n            if (string.includes(substring6)) console.log(substring6);\n            return;\n          });\n        }\n\n        if (err) {\n          console.log(\"err\");\n          return;\n        }\n      });\n    };\n\n    _this.toMainR =\n    /*#__PURE__*/\n    function () {\n      var _ref26 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee33(event) {\n        return _regeneratorRuntime.wrap(function _callee33$(_context33) {\n          while (1) {\n            switch (_context33.prev = _context33.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to Main\");\n                Cookies.remove('registeredDesigns');\n                Cookies.remove('designVotingIndex');\n                Cookies.remove('designSelectedM');\n                _context33.next = 7;\n                return _this.setState({\n                  registeredDesigns: false\n                });\n\n              case 7:\n                _context33.next = 9;\n                return _this.setState({\n                  main: true\n                });\n\n              case 9:\n                Cookies.set('main', 'true');\n\n              case 10:\n              case \"end\":\n                return _context33.stop();\n            }\n          }\n        }, _callee33);\n      }));\n\n      return function (_x26) {\n        return _ref26.apply(this, arguments);\n      };\n    }();\n\n    _this.preCommit =\n    /*#__PURE__*/\n    function () {\n      var _ref27 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee34(event) {\n        var index;\n        return _regeneratorRuntime.wrap(function _callee34$(_context34) {\n          while (1) {\n            switch (_context34.prev = _context34.next) {\n              case 0:\n                event.preventDefault();\n                index = event.target.value;\n                console.log(\"selected designNo:\", index);\n\n                _this.setState({\n                  designSel: index\n                });\n\n                _this.setState({\n                  designVoted: true\n                });\n\n              case 5:\n              case \"end\":\n                return _context34.stop();\n            }\n          }\n        }, _callee34);\n      }));\n\n      return function (_x27) {\n        return _ref27.apply(this, arguments);\n      };\n    }();\n\n    _this.voteSelection =\n    /*#__PURE__*/\n    function () {\n      var _ref28 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee35(event) {\n        var voteSelected;\n        return _regeneratorRuntime.wrap(function _callee35$(_context35) {\n          while (1) {\n            switch (_context35.prev = _context35.next) {\n              case 0:\n                event.preventDefault();\n                console.log(_this.state.voteSelected);\n                voteSelected = event.target.value;\n                _context35.next = 5;\n                return _this.setState({\n                  voteSelected: voteSelected\n                });\n\n              case 5:\n                console.log(\"vote selected\", _this.state.voteSelected);\n\n              case 6:\n              case \"end\":\n                return _context35.stop();\n            }\n          }\n        }, _callee35);\n      }));\n\n      return function (_x28) {\n        return _ref28.apply(this, arguments);\n      };\n    }();\n\n    _this.commit =\n    /*#__PURE__*/\n    function () {\n      var _ref29 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee36(event) {\n        var web3, nounce, hashNounce, fhashNounce, vote, string, cryptoCommitment, cryptoCommitment1, fcryptoCommitment1, designNo, currentTimeInSeconds;\n        return _regeneratorRuntime.wrap(function _callee36$(_context36) {\n          while (1) {\n            switch (_context36.prev = _context36.next) {\n              case 0:\n                event.preventDefault();\n                web3 = window.web3;\n                nounce = Math.floor(Math.random() * 10000).toString();\n                hashNounce = keccak256(nounce);\n                fhashNounce = '0x' + hashNounce;\n                _context36.next = 7;\n                return _this.setState({\n                  nounce: fhashNounce\n                });\n\n              case 7:\n                console.log(\"nounce\", fhashNounce);\n                vote = _this.state.voteSelected;\n                console.log(\"vote\", vote);\n                string = vote + fhashNounce;\n                cryptoCommitment = web3.utils.soliditySha3(vote, fhashNounce);\n                cryptoCommitment1 = keccak256(string);\n                fcryptoCommitment1 = '0x' + cryptoCommitment;\n                console.log(\"cryptoCommitment\", cryptoCommitment, fcryptoCommitment1);\n                designNo = _this.state.designSel;\n                console.log(\"designNo\", designNo);\n                currentTimeInSeconds = Math.floor(Date.now() / 1000);\n                console.log(\"timestamp\", currentTimeInSeconds);\n\n                _this.state.contract.methods.commit(designNo, cryptoCommitment, currentTimeInSeconds).send({\n                  from: _this.state.account\n                }).on('error', function (error) {\n                  var string = error.message;\n                  var substring = \"MetaMask Tx Signature: User denied transaction signature.\";\n                  var substring1 = \"The player can commit only when manager confirms design exchange.\";\n                  var substring2 = \"The player cannot vote after expiry.\";\n\n                  if (string.includes(substring)) {\n                    console.log(substring);\n\n                    _this.setState({\n                      commited: false\n                    });\n                  }\n\n                  if (string.includes(substring1)) {\n                    console.log(substring1);\n\n                    _this.setState({\n                      commited: false\n                    });\n                  }\n\n                  if (string.includes(substring2)) {\n                    console.log(substring2);\n\n                    _this.setState({\n                      commited: false\n                    });\n                  }\n\n                  return;\n                });\n\n                console.log(\"right commited\");\n\n                _this.setState({\n                  commited: true\n                });\n\n              case 22:\n              case \"end\":\n                return _context36.stop();\n            }\n          }\n        }, _callee36);\n      }));\n\n      return function (_x29) {\n        return _ref29.apply(this, arguments);\n      };\n    }();\n\n    _this.reveal =\n    /*#__PURE__*/\n    function () {\n      var _ref30 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee37(event) {\n        var designNo, currentTimeInSeconds, nounce, vote;\n        return _regeneratorRuntime.wrap(function _callee37$(_context37) {\n          while (1) {\n            switch (_context37.prev = _context37.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"reveal\");\n                designNo = _this.state.designSel;\n                console.log(\"designNo\", designNo);\n                currentTimeInSeconds = Math.floor(Date.now() / 1000);\n                console.log(\"timestamp\", currentTimeInSeconds);\n                nounce = _this.state.nounce;\n                console.log(\"nounce\", nounce);\n                vote = _this.state.voteSelected;\n                console.log(\"vote\", vote);\n\n                _this.state.contract.methods.reveal(designNo, vote, nounce, currentTimeInSeconds).send({\n                  from: _this.state.account\n                }).on('error', function (error) {\n                  var string = error.message;\n                  var substring = \"MetaMask Tx Signature: User denied transaction signature.\";\n                  var substring1 = \"The vote cannot be revealed after the expiry.\";\n                  var substring2 = \"The player did not commit to this.\";\n                  if (string.includes(substring)) console.log(substring);\n                  if (string.includes(substring1)) console.log(substring1);\n                  if (string.includes(substring2)) console.log(substring2);\n                  return;\n                });\n\n              case 11:\n              case \"end\":\n                return _context37.stop();\n            }\n          }\n        }, _callee37);\n      }));\n\n      return function (_x30) {\n        return _ref30.apply(this, arguments);\n      };\n    }();\n\n    _this.setCommit = function (event, maskedvalue, floatvalue) {\n      _this.setState({\n        amount: floatvalue\n      });\n\n      console.log(floatvalue);\n    };\n\n    _this.formatSelect =\n    /*#__PURE__*/\n    function () {\n      var _ref31 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee38(event) {\n        var designFormat;\n        return _regeneratorRuntime.wrap(function _callee38$(_context38) {\n          while (1) {\n            switch (_context38.prev = _context38.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"format selected\");\n\n                _this.state.contract.methods.setReveal(180).send({\n                  from: _this.state.account\n                });\n\n                designFormat = event.target.value;\n                console.log(_this.state.designFormat);\n                console.log(event.target.value);\n                _context38.next = 8;\n                return _this.setState({\n                  designFormat: designFormat\n                });\n\n              case 8:\n                console.log(_this.state.designFormat);\n\n              case 9:\n              case \"end\":\n                return _context38.stop();\n            }\n          }\n        }, _callee38);\n      }));\n\n      return function (_x31) {\n        return _ref31.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFile =\n    /*#__PURE__*/\n    function () {\n      var _ref32 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee39(event) {\n        var file, format, reader;\n        return _regeneratorRuntime.wrap(function _callee39$(_context39) {\n          while (1) {\n            switch (_context39.prev = _context39.next) {\n              case 0:\n                event.preventDefault();\n                file = event.target.files[0];\n\n                _this.state.contract.methods.setExpiry(180).send({\n                  from: _this.state.account\n                }); //var stl = new NodeStl( file, {density: 1.04});\n                //  console.log(stl.volume);\n\n\n                format = _this.state.designFormat;\n\n                if (format == \"stl\") {\n                  _this.setState({\n                    stlFile: file\n                  });\n\n                  _this.setState({\n                    disableObj: false\n                  });\n\n                  _this.setState({\n                    disableStl: true\n                  });\n\n                  console.log(_this.state.stlFile);\n                } else {\n                  if (format == 'obj') {\n                    _this.setState({\n                      objFile: file\n                    });\n\n                    _this.setState({\n                      disableStl: false\n                    });\n\n                    _this.setState({\n                      disableObj: true\n                    });\n\n                    console.log(_this.state.objFile);\n                  } else {\n                    console.log(\"format not selected\");\n                  }\n                }\n\n                reader = new window.FileReader();\n                reader.readAsArrayBuffer(file);\n\n                reader.onloadend = function () {\n                  _this.setState({\n                    buffer: Buffer(reader.result)\n                  });\n\n                  console.log('buffer', _this.state.buffer);\n                };\n\n              case 8:\n              case \"end\":\n                return _context39.stop();\n            }\n          }\n        }, _callee39);\n      }));\n\n      return function (_x32) {\n        return _ref32.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFile2 =\n    /*#__PURE__*/\n    function () {\n      var _ref33 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee40(event) {\n        var stri;\n        return _regeneratorRuntime.wrap(function _callee40$(_context40) {\n          while (1) {\n            switch (_context40.prev = _context40.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging designName\");\n                stri = event.target.value;\n                _context40.next = 5;\n                return _this.setState({\n                  designName: stri\n                });\n\n              case 5:\n                console.log(_this.state.designName);\n\n              case 6:\n              case \"end\":\n                return _context40.stop();\n            }\n          }\n        }, _callee40);\n      }));\n\n      return function (_x33) {\n        return _ref33.apply(this, arguments);\n      };\n    }();\n\n    _this.captureFile5 =\n    /*#__PURE__*/\n    function () {\n      var _ref34 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee41(event) {\n        var stri;\n        return _regeneratorRuntime.wrap(function _callee41$(_context41) {\n          while (1) {\n            switch (_context41.prev = _context41.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"charging design description\");\n                stri = event.target.value;\n                _context41.next = 5;\n                return _this.setState({\n                  desc: stri\n                });\n\n              case 5:\n                console.log(_this.state.desc);\n\n              case 6:\n              case \"end\":\n                return _context41.stop();\n            }\n          }\n        }, _callee41);\n      }));\n\n      return function (_x34) {\n        return _ref34.apply(this, arguments);\n      };\n    }();\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref35 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee43(event) {\n        return _regeneratorRuntime.wrap(function _callee43$(_context43) {\n          while (1) {\n            switch (_context43.prev = _context43.next) {\n              case 0:\n                event.preventDefault();\n                _context43.next = 3;\n                return ipfs.add(_this.state.buffer,\n                /*#__PURE__*/\n                function () {\n                  var _ref36 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee42(error, result) {\n                    var designName, desc, makerName, makerSurname, designHash, toJSON, myJson, buf;\n                    return _regeneratorRuntime.wrap(function _callee42$(_context42) {\n                      while (1) {\n                        switch (_context42.prev = _context42.next) {\n                          case 0:\n                            console.log('Ipfs result', result);\n\n                            if (!error) {\n                              _context42.next = 4;\n                              break;\n                            }\n\n                            console.error(error);\n                            return _context42.abrupt(\"return\");\n\n                          case 4:\n                            console.log(result);\n\n                            _this.setState({\n                              designHash: result[0].hash\n                            });\n\n                            console.log(\"Submitting data to ipfs\");\n                            designName = _this.state.designName;\n                            desc = _this.state.desc;\n                            makerName = _this.state.name;\n                            makerSurname = _this.state.surname;\n                            designHash = _this.state.designHash;\n\n                            if (!(designName == '' || makerName == '' || makerSurname == '' || desc == '')) {\n                              _context42.next = 18;\n                              break;\n                            }\n\n                            console.log(\"metadata not saved\");\n\n                            _this.setState({\n                              designName: '',\n                              makerName: '',\n                              makerSurname: '',\n                              desc: ''\n                            });\n\n                            return _context42.abrupt(\"return\");\n\n                          case 18:\n                            if (designHash == '') {\n                              console.log(\"design not uploaded\");\n                            } else {\n                              toJSON = {\n                                designName: designName,\n                                makerName: makerName,\n                                makerSurname: makerSurname,\n                                desc: desc,\n                                designHash: designHash\n                              };\n                              myJson = JSON.stringify(toJSON);\n                              console.log(toJSON);\n                              console.log(myJson);\n                              buf = Buffer.from(myJson);\n                              ipfs.add(buf, function (error, result) {\n                                console.log('Ipfs result', result);\n\n                                if (error) {\n                                  console.error(error);\n                                  return;\n                                }\n\n                                console.log(result[0].hash);\n                              });\n\n                              _this.setState({\n                                designName: '',\n                                makerName: '',\n                                makerSurname: '',\n                                desc: ''\n                              });\n                            }\n\n                          case 19:\n                            _this.state.contract.methods.getExpiry().call({\n                              from: _this.state.account\n                            }).then(function (res) {\n                              var hash = _this.state.designHash;\n                              console.log(\"inizio conv\");\n\n                              var fhash = _this.getBytes32FromIpfsHash(hash);\n\n                              var web3 = window.web3;\n                              console.log(\"solo fixedhash\", fhash);\n                              console.log(_this.state.contract);\n                              console.log(res);\n                              var currentTimeInSeconds = Math.floor(Date.now() / 1000);\n                              console.log(currentTimeInSeconds);\n                              var amount1 = _this.state.amount;\n                              console.log(amount1);\n                              var amount = web3.utils.toWei(amount1.toString(), 'ether');\n                              console.log(amount);\n                              var manager = \"0x22B4d38AE07fEac63Da3fa2B33b72558874F2Cf6\";\n                              console.log('start smart contract call');\n\n                              _this.state.contract.methods.announce(fhash, currentTimeInSeconds, res, amount, manager).send({\n                                from: _this.state.account,\n                                value: amount\n                              }).on('transactionHash', function (hash) {\n                                console.log(\"Hash: \" + hash);\n                              }).on('error', function (error) {\n                                console.log(error);\n                                var string = error.message;\n                                var substring = \"MetaMask Tx Signature: User denied transaction signature.\";\n                                var substring1 = \"The commitment should be more than 0.\";\n                                var substring2 = \"The announcement didn't receive the commitment.\";\n                                if (string.includes(substring)) console.log(substring);\n                                if (string.includes(substring1)) console.log(substring1);\n                                if (string.includes(substring2)) console.log(substring2);\n                                return;\n                              }).on('confirmation', function (confirmationNumber, receipt) {\n                                console.log(receipt);\n                              }).on('receipt', function (receipt) {\n                                console.log(\"provareceipt\");\n                              });\n                            });\n\n                          case 20:\n                          case \"end\":\n                            return _context42.stop();\n                        }\n                      }\n                    }, _callee42);\n                  }));\n\n                  return function (_x36, _x37) {\n                    return _ref36.apply(this, arguments);\n                  };\n                }());\n\n              case 3:\n              case \"end\":\n                return _context43.stop();\n            }\n          }\n        }, _callee43);\n      }));\n\n      return function (_x35) {\n        return _ref35.apply(this, arguments);\n      };\n    }();\n\n    _this.toMainU =\n    /*#__PURE__*/\n    function () {\n      var _ref37 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee44(event) {\n        return _regeneratorRuntime.wrap(function _callee44$(_context44) {\n          while (1) {\n            switch (_context44.prev = _context44.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to Main\");\n                Cookies.remove('announce');\n                _context44.next = 5;\n                return _this.setState({\n                  announce: false\n                });\n\n              case 5:\n                _context44.next = 7;\n                return _this.setState({\n                  main: true\n                });\n\n              case 7:\n                Cookies.set('main', 'true');\n                console.log(_this.state.announce);\n\n              case 9:\n              case \"end\":\n                return _context44.stop();\n            }\n          }\n        }, _callee44);\n      }));\n\n      return function (_x38) {\n        return _ref37.apply(this, arguments);\n      };\n    }();\n\n    _this.toMainCR =\n    /*#__PURE__*/\n    function () {\n      var _ref38 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee45(event) {\n        return _regeneratorRuntime.wrap(function _callee45$(_context45) {\n          while (1) {\n            switch (_context45.prev = _context45.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to Main\");\n                Cookies.remove('calculateResult');\n                Cookies.remove('calculateResultIndex');\n                Cookies.remove('designIndex');\n                Cookies.remove('designSel');\n                Cookies.remove('designSelectedM');\n                _context45.next = 9;\n                return _this.setState({\n                  calculateResult: false\n                });\n\n              case 9:\n                _context45.next = 11;\n                return _this.setState({\n                  designSelectedM: false\n                });\n\n              case 11:\n                _context45.next = 13;\n                return _this.setState({\n                  main: true\n                });\n\n              case 13:\n                Cookies.set('main', 'true');\n\n              case 14:\n              case \"end\":\n                return _context45.stop();\n            }\n          }\n        }, _callee45);\n      }));\n\n      return function (_x39) {\n        return _ref38.apply(this, arguments);\n      };\n    }();\n\n    _this.calculateResult = function (event) {\n      event.preventDefault();\n      console.log(\"calculating\");\n      var currentTimeInSeconds = Math.floor(Date.now() / 1000);\n      console.log(\"timestamp\", currentTimeInSeconds);\n      var designNo = event.target.value;\n      console.log(\"designNo\", designNo);\n\n      _this.state.contract.methods.calculateResult(designNo, currentTimeInSeconds).send({\n        from: _this.state.account\n      }).on('error', function (error) {\n        var string = error.message;\n        var substring = \"MetaMask Tx Signature: User denied transaction signature.\";\n        var substring1 = \"The result cannot be revealed before the expiry.\";\n        if (string.includes(substring)) console.log(substring);\n        if (string.includes(substring1)) console.log(substring1);\n        return;\n      });\n    };\n\n    _this.toCurrentDesignsM =\n    /*#__PURE__*/\n    function () {\n      var _ref39 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee47(event) {\n        return _regeneratorRuntime.wrap(function _callee47$(_context47) {\n          while (1) {\n            switch (_context47.prev = _context47.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to current designs\");\n\n                _this.state.contract.methods.getNumDesignes().call({\n                  from: _this.state.account\n                }).then(\n                /*#__PURE__*/\n                function () {\n                  var _ref40 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee46(res) {\n                    var index, result1, i, tmp;\n                    return _regeneratorRuntime.wrap(function _callee46$(_context46) {\n                      while (1) {\n                        switch (_context46.prev = _context46.next) {\n                          case 0:\n                            index = res.toString();\n                            Cookies.set('designIndex', index);\n                            console.log(index);\n                            result1 = [];\n                            i = 0;\n\n                          case 5:\n                            if (!(i < index)) {\n                              _context46.next = 19;\n                              break;\n                            }\n\n                            _context46.next = 8;\n                            return _this.state.contract.methods.getDesigne(i).call({\n                              from: _this.state.account\n                            }).then(function (r) {\n                              result1.push(r);\n                            });\n\n                          case 8:\n                            console.log(\"decoding\");\n                            tmp = _this.getIpfsHashFromBytes32(result1[i].filehash);\n                            tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                            console.log(tmp);\n                            result1[i].filehash = tmp;\n                            result1[i][\"designNo\"] = i;\n                            console.log(result1);\n\n                            _this.setState({\n                              avaibleDesign: result1\n                            });\n\n                          case 16:\n                            i++;\n                            _context46.next = 5;\n                            break;\n\n                          case 19:\n                          case \"end\":\n                            return _context46.stop();\n                        }\n                      }\n                    }, _callee46);\n                  }));\n\n                  return function (_x41) {\n                    return _ref40.apply(this, arguments);\n                  };\n                }());\n\n                _context47.next = 5;\n                return _this.setState({\n                  currentDesignsM: true\n                });\n\n              case 5:\n                _context47.next = 7;\n                return _this.setState({\n                  main: false\n                });\n\n              case 7:\n                Cookies.set('currentDesignsM', 'true');\n                Cookies.remove('main');\n\n              case 9:\n              case \"end\":\n                return _context47.stop();\n            }\n          }\n        }, _callee47);\n      }));\n\n      return function (_x40) {\n        return _ref39.apply(this, arguments);\n      };\n    }();\n\n    _this.toMainCM =\n    /*#__PURE__*/\n    function () {\n      var _ref41 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee48(event) {\n        return _regeneratorRuntime.wrap(function _callee48$(_context48) {\n          while (1) {\n            switch (_context48.prev = _context48.next) {\n              case 0:\n                event.preventDefault();\n                console.log(\"to Main\");\n                Cookies.remove('currentDesignsM');\n                Cookies.remove('designIndex');\n                Cookies.remove('designSel');\n                Cookies.remove('designSelectedM');\n                _context48.next = 8;\n                return _this.setState({\n                  currentDesignsM: false\n                });\n\n              case 8:\n                _context48.next = 10;\n                return _this.setState({\n                  designSelectedM: false\n                });\n\n              case 10:\n                _context48.next = 12;\n                return _this.setState({\n                  main: true\n                });\n\n              case 12:\n                Cookies.set('main', 'true');\n\n              case 13:\n              case \"end\":\n                return _context48.stop();\n            }\n          }\n        }, _callee48);\n      }));\n\n      return function (_x42) {\n        return _ref41.apply(this, arguments);\n      };\n    }();\n\n    _this.designSelected1M = function (event) {\n      event.preventDefault();\n      var index = event.target.value;\n      console.log(\"selected designNo:\", index);\n\n      _this.setState({\n        designSel: index\n      });\n\n      Cookies.set('designSel', index);\n\n      _this.setState({\n        designSelectedM: true\n      });\n\n      Cookies.set('designSelectedM', 'true');\n\n      _this.setState({\n        currentDesignsM: false\n      });\n\n      Cookies.remove('currentDesignsM');\n\n      _this.state.contract.methods.getRegPlayerAddresses(index).call({\n        from: _this.state.account\n      }).then(function (r) {\n        var result1 = r;\n        console.log(result1);\n\n        _this.setState({\n          playerList: result1\n        });\n      });\n    };\n\n    _this.designSelected2M = function (event) {\n      event.preventDefault();\n      var playerAddress = event.target.value;\n      var designNo = _this.state.designSel;\n      console.log(\"design selected:\", designNo);\n      console.log(\"selected player:\", playerAddress);\n      var web3 = window.web3;\n\n      _this.state.contract.methods.isFileReceived(playerAddress, designNo).call({\n        from: _this.state.account\n      }).then(function (res) {\n        if (res == false) {\n          _this.state.contract.methods.setReceived(designNo, playerAddress).send({\n            from: _this.state.account\n          }).on('error', function (error) {\n            var string = error.message;\n            var substring = \"MetaMask Tx Signature: User denied transaction signature.\";\n            var substring1 = \"Only manager can call this function.\";\n            if (string.includes(substring)) console.log(substring);\n            if (string.includes(substring1)) console.log(substring1);\n            return;\n          });\n        } else if (res == true) {\n          console.log(\"File already received\");\n          return;\n        } else {\n          console.log(\"error\");\n        }\n      });\n    };\n\n    _this.refreshCM = function (event) {\n      event.preventDefault();\n\n      if (_this.state.currentDesignsM == true) {\n        _this.state.contract.methods.getNumDesignes().call({\n          from: _this.state.account\n        }).then(\n        /*#__PURE__*/\n        function () {\n          var _ref42 = _asyncToGenerator(\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function _callee49(res) {\n            var index, result1, i, tmp;\n            return _regeneratorRuntime.wrap(function _callee49$(_context49) {\n              while (1) {\n                switch (_context49.prev = _context49.next) {\n                  case 0:\n                    index = res.toString();\n                    Cookies.set('designIndex', index);\n                    console.log(index);\n                    result1 = [];\n                    i = 0;\n\n                  case 5:\n                    if (!(i < index)) {\n                      _context49.next = 19;\n                      break;\n                    }\n\n                    _context49.next = 8;\n                    return _this.state.contract.methods.getDesigne(i).call({\n                      from: _this.state.account\n                    }).then(function (r) {\n                      result1.push(r);\n                    });\n\n                  case 8:\n                    console.log(\"decoding\");\n                    tmp = _this.getIpfsHashFromBytes32(result1[i].filehash);\n                    tmp = \"https://ipfs.infura.io/ipfs/\" + tmp;\n                    console.log(tmp);\n                    result1[i].filehash = tmp;\n                    result1[i][\"designNo\"] = i;\n                    console.log(result1);\n\n                    _this.setState({\n                      avaibleDesign: result1\n                    });\n\n                  case 16:\n                    i++;\n                    _context49.next = 5;\n                    break;\n\n                  case 19:\n                  case \"end\":\n                    return _context49.stop();\n                }\n              }\n            }, _callee49);\n          }));\n\n          return function (_x43) {\n            return _ref42.apply(this, arguments);\n          };\n        }());\n      }\n\n      if (_this.state.designSelectedM == true) {\n        var index = _this.state.designSel;\n\n        _this.state.contract.methods.getRegPlayerAddresses(index).call({\n          from: _this.state.account\n        }).then(function (r) {\n          var result1 = r;\n          console.log(result1);\n\n          _this.setState({\n            playerList: result1\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      contract1: null,\n      designHash: '',\n      contract: null,\n      web3: null,\n      buffer: null,\n      account: null,\n      designName: '',\n      desc: '',\n      stlLink: null,\n      objLink: null,\n      designFormat: 'stl',\n      username: '',\n      password: '',\n      confirmPassword: '',\n      privateKey: '',\n      email: '',\n      register: false,\n      ethBrowser: false,\n      invalidEmail: false,\n      name: '',\n      surname: '',\n      isLogged: false,\n      invalidLogin: false,\n      disableStl: true,\n      disableObj: true,\n      announce: false,\n      main: false,\n      loading: true,\n      file: null,\n      amount: \"0.00\",\n      expiry: \"0\",\n      registrationType: 'designer',\n      designer: false,\n      player: false,\n      avaibleDesign: [],\n      currentDesigns: false,\n      invalidRegistration: false,\n      invalidPassword: false,\n      playerDetails: false,\n      playerDet: [],\n      designSel: '',\n      designSelected: false,\n      manager: false,\n      currentDesignsM: false,\n      playerList: [],\n      designSelectedM: false,\n      registeredDesigns: false,\n      designVoted: false,\n      voteSelected: \"1\",\n      nounce: null,\n      commited: false,\n      calculateResult: false\n    };\n    return _this;\n  } //login part\n\n\n  _createClass(App, [{\n    key: \"render\",\n    //end manager part\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1272\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1273\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand col-sm-3 col-md-2 mr-0\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1274\n        },\n        __self: this\n      }, \"App di prova\")), React.createElement(\"div\", {\n        className: \"container-fluid mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1282\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1283\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        role: \"main\",\n        className: \"col-lg-12 d-flex text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1284\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content mr-auto ml-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1285\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1286\n        },\n        __self: this\n      }), this.state.loading && React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1293\n        },\n        __self: this\n      }, \"Loading\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1297\n        },\n        __self: this\n      }, !this.state.isLogged && !this.state.loading && !this.state.register && React.createElement(\"h1\", {\n        id: \"param1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1298\n        },\n        __self: this\n      }, \"Login Page\"), !this.state.isLogged && !this.state.loading && this.state.register && React.createElement(\"h1\", {\n        id: \"param16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1299\n        },\n        __self: this\n      }, \"Register Page\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1301\n        },\n        __self: this\n      }, this.state.ethBrowser && !this.state.isLogged && !this.state.loading && React.createElement(\"label\", {\n        id: \"param2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1302\n        },\n        __self: this\n      }, \"username:\", React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.captureFileL,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1304\n        },\n        __self: this\n      }))), this.state.ethBrowser && !this.state.isLogged && !this.state.loading && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1307\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"param3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1308\n        },\n        __self: this\n      }, \"password:\", React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.captureFileL1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1310\n        },\n        __self: this\n      }))), this.state.ethBrowser && !this.state.isLogged && !this.state.loading && this.state.register && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1313\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"param17\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1314\n        },\n        __self: this\n      }, \"confirm password:\", React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.captureFileL5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1316\n        },\n        __self: this\n      }))), this.state.invalidLogin && !this.state.isLogged && this.state.ethBrowser && !this.state.loading && React.createElement(\"div\", {\n        id: \"param6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1319\n        },\n        __self: this\n      }, \"invalid username/password\"), this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading ? React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1322\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"param7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1323\n        },\n        __self: this\n      }, \"name:\", React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.captureFileL3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1325\n        },\n        __self: this\n      }))) : null, this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading ? React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1330\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"param8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1331\n        },\n        __self: this\n      }, \"surname:\", React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.captureFileL4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1333\n        },\n        __self: this\n      }))) : null, this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading ? React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1338\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"param9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1339\n        },\n        __self: this\n      }, \"email:\", React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.captureFileL2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1341\n        },\n        __self: this\n      }))) : null, this.state.register && this.state.ethBrowser && this.state.invalidEmail && !this.state.isLogged && !this.state.loading && React.createElement(\"div\", {\n        id: \"param10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1346\n        },\n        __self: this\n      }, \"invalid email\"), !this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param4\",\n        onClick: this.startApi2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1350\n        },\n        __self: this\n      }, \"Login\"), !this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param5\",\n        onClick: this.setRegister,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1354\n        },\n        __self: this\n      }, \"Register\"), this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1357\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"param14\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1358\n        },\n        __self: this\n      }, \"Registration Type:\", React.createElement(\"select\", {\n        onChange: this.registrationType,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1360\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"designer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1361\n        },\n        __self: this\n      }, \"designer\"), React.createElement(\"option\", {\n        value: \"player\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1362\n        },\n        __self: this\n      }, \"player\"), React.createElement(\"option\", {\n        value: \"both\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1363\n        },\n        __self: this\n      }, \"both\")))), this.state.register && this.state.ethBrowser && this.state.invalidRegistration && !this.state.isLogged && !this.state.loading && React.createElement(\"div\", {\n        id: \"param15\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1368\n        },\n        __self: this\n      }, \"Username or wallet already registered\"), this.state.register && this.state.ethBrowser && this.state.invalidPassword && !this.state.isLogged && !this.state.loading && React.createElement(\"div\", {\n        id: \"param18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1371\n        },\n        __self: this\n      }, \"Password and Confirm Password are different\"), this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param11\",\n        onClick: this.sendData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1374\n        },\n        __self: this\n      }, \"SendData\"), this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param12\",\n        onClick: this.Return,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1378\n        },\n        __self: this\n      }, \"Return\"), !this.state.ethBrowser && !this.state.isLogged && !this.state.loading && !this.state.loading && React.createElement(\"div\", {\n        id: \"param13\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1383\n        },\n        __self: this\n      }, \"Non-Ethereum browser detected, please install metamask.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1383\n        },\n        __self: this\n      }), \"[.....metamask tutorial \", React.createElement(\"a\", {\n        id: \"para\",\n        href: 'https://metamask.io/download.html',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1384\n        },\n        __self: this\n      }, \"here\"), \"...]\")), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && React.createElement(\"p\", {\n        id: \"param19\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1398\n        },\n        __self: this\n      }, \"User data:\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && React.createElement(\"p\", {\n        id: \"param20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1401\n        },\n        __self: this\n      }, \"name:\", this.state.name), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && React.createElement(\"p\", {\n        id: \"param21\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1404\n        },\n        __self: this\n      }, \"surname:\", this.state.surname), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && React.createElement(\"p\", {\n        id: \"param22\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1407\n        },\n        __self: this\n      }, \"email:\", this.state.email), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && React.createElement(\"p\", {\n        id: \"param23\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1410\n        },\n        __self: this\n      }, \"wallet:\", this.state.account), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.designer && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param25\",\n        onClick: this.toUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1413\n        },\n        __self: this\n      }, \"Upload a design\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param28\",\n        onClick: this.logoutU,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1416\n        },\n        __self: this\n      }, \"Logout\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player && !this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param27\",\n        onClick: this.toCurrentDesigns,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1419\n        },\n        __self: this\n      }, \"List avaible design to vote\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param24\",\n        onClick: this.toPlayerDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1422\n        },\n        __self: this\n      }, \"Player details\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player && !this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param26\",\n        onClick: this.toRegisteredDesigns,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1425\n        },\n        __self: this\n      }, \"Vote registered design\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.designer && !this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.toCalculateResult,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1428\n        },\n        __self: this\n      }, \"Calculate Result\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && !this.state.manager && React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1437\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1438\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1438\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1438\n        },\n        __self: this\n      }, \"Design Number\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1438\n        },\n        __self: this\n      }, \"creatorAddress\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1438\n        },\n        __self: this\n      }, \"design\")), this.state.avaibleDesign.map(function (item) {\n        return React.createElement(\"tr\", {\n          className: \"table\",\n          onClick: _this3.provaC,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1438\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1438\n          },\n          __self: this\n        }, item.designNo.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1438\n          },\n          __self: this\n        }, item.vendor.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1438\n          },\n          __self: this\n        }, item.filehash.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1438\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button\",\n          value: item.designNo.toString(),\n          onClick: _this3.designSelected1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1438\n          },\n          __self: this\n        }, \"Select\")));\n      }))), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && this.state.designSelected && !this.state.manager && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1441\n        },\n        __self: this\n      }, \"amount:\", React.createElement(CurrencyInput, {\n        value: this.state.amount,\n        onChangeEvent: this.setCommit,\n        CurrencyInput: true,\n        suffix: \" ETH\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1443\n        },\n        __self: this\n      })), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && this.state.designSelected && !this.state.manager && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1446\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.designSelected2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1447\n        },\n        __self: this\n      }, \"Submit\")), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && !this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.toMainC,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1450\n        },\n        __self: this\n      }, \"Return\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && !this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.refreshC,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1453\n        },\n        __self: this\n      }, \"Refresh\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1460\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1461\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1461\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1461\n        },\n        __self: this\n      }, \"creatorAddress\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1461\n        },\n        __self: this\n      }, \"design\")), this.state.avaibleDesign.map(function (item) {\n        return React.createElement(\"tr\", {\n          className: \"table\",\n          onClick: _this3.provaC,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1461\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1461\n          },\n          __self: this\n        }, item.vendor.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1461\n          },\n          __self: this\n        }, item.filehash.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1461\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button\",\n          value: item.designNo.toString(),\n          onClick: _this3.preCommit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1461\n          },\n          __self: this\n        }, \"Select\")));\n      }))), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && this.state.designVoted && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1463\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1464\n        },\n        __self: this\n      }, \"Select design vote:\", React.createElement(\"select\", {\n        onChange: this.voteSelection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1466\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1467\n        },\n        __self: this\n      }, \"valid\"), React.createElement(\"option\", {\n        value: \"-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1468\n        },\n        __self: this\n      }, \"invalid\")))), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && this.state.designVoted && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1472\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.commit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1473\n        },\n        __self: this\n      }, \"Commit\")), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && this.state.designVoted && this.state.commited && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1475\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.reveal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1476\n        },\n        __self: this\n      }, \"Reveal\")), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.toMainR,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1479\n        },\n        __self: this\n      }, \"Return\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.playerDetails && React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1489\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1490\n        },\n        __self: this\n      }, \"reputation:\", this.state.playerDet[0], React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1490\n        },\n        __self: this\n      }), \"weight:\", this.state.playerDet[1], React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1490\n        },\n        __self: this\n      }), \"balance:\", this.state.playerDet[2])), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.playerDetails && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.refreshPd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1493\n        },\n        __self: this\n      }, \"Refresh\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.playerDetails && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.toMainPd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1496\n        },\n        __self: this\n      }, \"Return\"), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1506\n        },\n        __self: this\n      }, \"Design caricato:\"), this.state.ethBrowser && this.state.isLogged && this.state.disableStl && this.state.announce && !this.state.loading && this.state.stlFile && this.state.designer ? React.createElement(STLViewer, {\n        onSceneRendered: function onSceneRendered(element) {\n          console.log(element);\n        },\n        sceneClassName: \"test-scene\",\n        file: this.state.stlFile,\n        className: \"obj\",\n        modelColor: \"#FF0000\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1508\n        },\n        __self: this\n      }) : null, this.state.ethBrowser && this.state.isLogged && this.state.disableObj && this.state.announce && !this.state.loading && this.state.objFile && this.state.designer ? React.createElement(OBJViewer, {\n        onSceneRendered: function onSceneRendered(element) {\n          console.log(element);\n        },\n        sceneClassName: \"test-scene\",\n        file: this.state.objFile,\n        className: \"obj\",\n        modelColor: \"#FF0000\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1519\n        },\n        __self: this\n      }) : null, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1529\n        },\n        __self: this\n      }, \"\\xA0\"), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1530\n        },\n        __self: this\n      }, \"Change design\"), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1531\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.captureFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1532\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1533\n        },\n        __self: this\n      }, \"\\xA0\")), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1535\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1536\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1537\n        },\n        __self: this\n      }, \"Design title:\", React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.captureFile2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1539\n        },\n        __self: this\n      }))), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"form\", {\n        onSubmit: this.captureFile2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1542\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1543\n        },\n        __self: this\n      }, \"Design description:\", React.createElement(\"textarea\", {\n        onChange: this.captureFile5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1545\n        },\n        __self: this\n      }))), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1548\n        },\n        __self: this\n      }, \"amount:\", React.createElement(CurrencyInput, {\n        value: this.state.amount,\n        onChangeEvent: this.setCommit,\n        CurrencyInput: true,\n        suffix: \" ETH\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1550\n        },\n        __self: this\n      })), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1553\n        },\n        __self: this\n      }, \"Submit\"), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1554\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1555\n        },\n        __self: this\n      }, \"Select design format:\", React.createElement(\"select\", {\n        onChange: this.formatSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1557\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"stl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1558\n        },\n        __self: this\n      }, \".stl\"), React.createElement(\"option\", {\n        value: \"obj\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1559\n        },\n        __self: this\n      }, \".obj\")))), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.logoutU,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1564\n        },\n        __self: this\n      }, \"Logout\"), this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.toMainU,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1567\n        },\n        __self: this\n      }, \"Return\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.designer && this.state.calculateResult && !this.state.manager && React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1582\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1583\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1583\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1583\n        },\n        __self: this\n      }, \"Design Number\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1583\n        },\n        __self: this\n      }, \"design\")), this.state.avaibleDesign.map(function (item) {\n        return React.createElement(\"tr\", {\n          className: \"table\",\n          onClick: _this3.provaC,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1583\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1583\n          },\n          __self: this\n        }, item.designNo.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1583\n          },\n          __self: this\n        }, item.filehash.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1583\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button\",\n          value: item.designNo.toString(),\n          onClick: _this3.calculateResult,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1583\n          },\n          __self: this\n        }, \"Select\")));\n      }))), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.designer && this.state.calculateResult && !this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.toMainCR,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1586\n        },\n        __self: this\n      }, \"Return\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.manager && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1603\n        },\n        __self: this\n      }, \"manager\"), this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player && this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        id: \"param29\",\n        onClick: this.toCurrentDesignsM,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1606\n        },\n        __self: this\n      }, \"manager design vote\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesignsM && this.state.manager && !this.state.designSelectedM && React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1613\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1614\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1614\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1614\n        },\n        __self: this\n      }, \"Design Number\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1614\n        },\n        __self: this\n      }, \"creatorAddress\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1614\n        },\n        __self: this\n      }, \"design\")), this.state.avaibleDesign.map(function (item) {\n        return React.createElement(\"tr\", {\n          className: \"table\",\n          onClick: _this3.provaC,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1614\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1614\n          },\n          __self: this\n        }, item.designNo.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1614\n          },\n          __self: this\n        }, item.vendor.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1614\n          },\n          __self: this\n        }, item.filehash.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1614\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button\",\n          value: item.designNo.toString(),\n          onClick: _this3.designSelected1M,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1614\n          },\n          __self: this\n        }, \"Select\")));\n      }))), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.manager && this.state.designSelectedM && React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1617\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1618\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1618\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1618\n        },\n        __self: this\n      }, \"Player Address\")), this.state.playerList.map(function (item) {\n        return React.createElement(\"tr\", {\n          className: \"table\",\n          onClick: _this3.provaC,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1618\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1618\n          },\n          __self: this\n        }, item.toString()), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1618\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button\",\n          value: item.toString(),\n          onClick: _this3.designSelected2M,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1618\n          },\n          __self: this\n        }, \"Select\")));\n      }))), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && (this.state.currentDesignsM || this.state.designSelectedM) && this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.toMainCM,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1621\n        },\n        __self: this\n      }, \"Return\"), this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && (this.state.currentDesignsM || this.state.designSelectedM) && this.state.manager && React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.refreshCM,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1624\n        },\n        __self: this\n      }, \"Refresh\"))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/costantinos/Documenti/Dapp/src/components/App.js"],"names":["React","Component","Web3","ReactDOM","Dapp","OBJViewer","STLViewer","axios","Cookies","designVoting","ethers","bs58","CurrencyInput","keccak256","NodeStl","require","ipfsClient","ipfs","host","port","protocol","web3s","providers","WebsocketProvider","App","loadWeb3","state","ethBrowser","loadBlockchainData","subscriptionEvents","cookiesLog","setState","loading","isLogged","get","inMain","inAnn","name","surname","email","designer","player","currentDesigns","playerDet","playerDetails","designIndex","manager","currentDesignsM","designSelectedM","designSel","registeredDesigns","designVotingIndex","calculateResult","calculateResultIndex","main","announce","result1","result2","account","k","i","contract","methods","getRegPlayerAddresses","call","from","then","re","addresses","console","log","isRegistered","includes","getDesigne","r","push","tmp","getIpfsHashFromBytes32","filehash","avaibleDesign","JSON","parse","playerList","vendor","contract1","events","newDesignAvailable","error","event","on","newPlayerAddition","newPlayerRegistration","playerDesignReceived","playerRevealed","window","ethereum","web3","enable","currentProvider","eth","getAccounts","accounts","net","getId","networkId","networkData","networks","Contract","abi","address","alert","_ipfsListing","decode","slice","toString","bytes32Hex","hashHex","hashBytes","Buffer","hashStr","encode","props","testMeta","preventDefault","try1","create","startApi","response","data","startApi2","username","password","hpassword","wallet","set","post","length","registrationType","invalidLogin","captureFileL","stri","target","value","captureFileL1","captureFileL2","check","check1","invalidEmail","captureFileL3","captureFileL4","captureFileL5","confirmPassword","setRegister","register","Return","sendData","valid","hash","fhash","personal","sign","err","res","ecRecover","addPlayer","send","string","message","substring","substring1","substring2","invalidPassword","invalidRegistration","logoutU","remove","toUpload","logoutM","toCurrentDesigns","getNumDesignes","index","toPlayerDetails","getPlayerDetails","toRegisteredDesigns","toCalculateResult","toMainPd","refreshPd","toMainC","refreshC","designSelected1","designSelected","designSelected2","amount1","amount","utils","toWei","substring3","substring4","substring5","substring6","toMainR","preCommit","designVoted","voteSelection","voteSelected","commit","nounce","Math","floor","random","hashNounce","fhashNounce","vote","cryptoCommitment","soliditySha3","cryptoCommitment1","fcryptoCommitment1","designNo","currentTimeInSeconds","Date","now","commited","reveal","setCommit","maskedvalue","floatvalue","formatSelect","setReveal","designFormat","captureFile","file","files","setExpiry","format","stlFile","disableObj","disableStl","objFile","reader","FileReader","readAsArrayBuffer","onloadend","buffer","result","captureFile2","designName","captureFile5","desc","onSubmit","add","designHash","makerName","makerSurname","toJSON","myJson","stringify","buf","getExpiry","getBytes32FromIpfsHash","confirmationNumber","receipt","toMainU","toMainCR","toCurrentDesignsM","toMainCM","designSelected1M","designSelected2M","playerAddress","isFileReceived","setReceived","refreshCM","stlLink","objLink","privateKey","expiry","map","item","provaC","element"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport './App.css';\nimport ReactDOM from 'react-dom';\nimport Dapp from '../abis/Dapp.json'\nimport {OBJViewer, STLViewer} from 'react-stl-obj-viewer';\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport designVoting from '../abis/designVoting.json'\nimport { ethers } from \"ethers\";\nimport bs58 from 'bs58'\nimport CurrencyInput from 'react-currency-input';\nimport { keccak256 } from 'js-sha3';\nconst NodeStl = require(\"node-stl\");\n\n\n//connessione al nodo di infura per ipfs\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' })\n  let web3s = new Web3(new Web3.providers.WebsocketProvider('ws://localhost:7546'))\n//tipi di formato .stl (più comune) 3MF AMF e .obj(open source)\n// usa accept\n// url example:'https://ipfs.infura.io/ipfs/QmZsdEtccredWWGZzZvU5fStsC7aWADJch588qAarGTky9'\n//{`https://ipfs.infura.io/ipfs/${this.state.designHash}`}\n//const user = []\n\nclass App extends Component {\n\n\n//operazioni quando il componente viene chiamato\n  async componentWillMount() {\n    await this.loadWeb3()\n  if(this.state.ethBrowser == true) {\n    await this.loadBlockchainData()\n      await this.subscriptionEvents()\n      await this.cookiesLog()\n      await this.setState({loading : false})\n  }\n  }\n  async cookiesLog(){\n    const isLogged = Cookies.get('log')\n    const inMain = Cookies.get('main')\n    const inAnn = Cookies.get('announce')\n    const name = Cookies.get('name')\n    const surname = Cookies.get('surname')\n    const email = Cookies.get('email')\n    const designer = Cookies.get('designer')\n    const player = Cookies.get('player')\n    const currentDesigns = Cookies.get('currentDesigns')\n    var playerDet = Cookies.get('playerDet')\n    const playerDetails = Cookies.get('playerDetails')\n    var designIndex = Cookies.get('designIndex')\n    const manager = Cookies.get('manager')\n    const currentDesignsM = Cookies.get('currentDesignsM')\n    const designSelectedM = Cookies.get('designSelectedM')\n    const designSel = Cookies.get('designSel')\n    const registeredDesigns = Cookies.get('registeredDesigns')\n    const designVotingIndex = Cookies.get('designVotingIndex')\n    const calculateResult = Cookies.get('calculateResult')\n    const calculateResultIndex = Cookies.get('calculateResultIndex')\n    if(calculateResult) await this.setState({calculateResult: calculateResult})\n    if (registeredDesigns)  await this.setState({registeredDesigns : registeredDesigns})\n    if(designSelectedM) await this.setState({designSelectedM: designSelectedM})\n    if(currentDesignsM) await this.setState({currentDesignsM: currentDesignsM})\n    if (manager) await this.setState({manager: manager})\n    if(isLogged) await this.setState({isLogged : isLogged})\n    if(inMain) await this.setState({main : inMain})\n    if(inAnn) await this.setState({announce : inAnn})\n    if(name) await this.setState({name : name})\n    if(surname) await this.setState({surname : surname})\n    if(email) await this.setState({email : email})\n    if(designer) await this.setState({designer : designer})\n    if(player) await this.setState({player : player})\n    if(currentDesigns) await this.setState({currentDesigns : currentDesigns})\n    if(designVotingIndex){\n      let result1=[]\n      let result2=\"true\"\n      const account = this.state.account\n      var k=0;\n     for(var i=0; i<designVotingIndex; i++){\n       await this.state.contract.methods.getRegPlayerAddresses(i).call({from: this.state.account}).then( async(re) =>{\n         const addresses = re\n         console.log(\"addresses\", addresses)\n         const isRegistered = addresses.includes(account)\n         console.log(\"is registered:\",isRegistered)\n         if (isRegistered == true){\n           await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n             result1.push(r)\n             console.log(\"result\",k,result1)\n             result2=\"true\"\n           })\n         }\n         else{\n           console.log(\"not registered\",i)\n           result2=\"false\"\n           k=k-1\n         }\n       })\n      console.log(\"decoding\")\n      console.log(\"result\",result1[k])\n      if(result2==\"true\"){\n      var tmp = this.getIpfsHashFromBytes32(result1[k].filehash)\n      tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n      console.log(tmp)\n      result1[k].filehash=tmp\n      result1[k][\"designNo\"] = i\n      console.log(result1)\n      this.setState({avaibleDesign : result1})}\n      k=k+1\n    }\n    }\n    if(playerDet){\n              playerDet = JSON.parse(playerDet)\n             await this.setState({playerDet : playerDet})\n                }\n    if(designIndex){\n      console.log(designIndex)\n      let result1=[]\n      for(var i=0; i<designIndex; i++){\n      await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n        result1.push(r)\n      })\n      console.log(\"decoding\")\n    if(result1[i] !='undefinied'){  var tmp = this.getIpfsHashFromBytes32(result1[i].filehash)\n      tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n      console.log(tmp)\n      result1[i].filehash=tmp\n      result1[i][\"designNo\"] = i\n      console.log(result1)\n      this.setState({avaibleDesign : result1})}\n    }\n            }\n    if(playerDetails) await this.setState({playerDetails : playerDetails})\n    if(designSel){\n      this.setState({designSel : designSel})\n      this.state.contract.methods.getRegPlayerAddresses(designSel).call({from: this.state.account}).then((r) =>{\n       const result1=r\n       console.log(result1)\n       this.setState({playerList : result1})\n     })\n    }\n    if(calculateResultIndex){\n        let result1=[]\n        var result2=\"true\"\n        var k=0\n       for(var i=0; i<calculateResultIndex; i++){\n        await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n          if (r.vendor == this.state.account) {\n            result1.push(r)\n            result2=\"true\"\n          }\n          else{\n            result2=\"false\"\n            k=k-1\n          }\n        })\n        console.log(\"decoding\")\n        if(result2==\"true\"){  var tmp = this.getIpfsHashFromBytes32(result1[k].filehash)\n        tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n        console.log(tmp)\n        result1[k].filehash=tmp\n        result1[k][\"designNo\"] = i\n        console.log(result1)\n        this.setState({avaibleDesign : result1})}\n        k=k+1\n      }\n\n    }\n  }\n\n\n\n  subscriptionEvents(){\n    this.state.contract1.events.newDesignAvailable( function(error, event){ console.log(event); }).on('data', function(event){\n     console.log(event); // same results as the optional callback above\n }).on('changed', function(event){\n     // remove event from local database\n }).on('error', console.error);\n this.state.contract1.events.newPlayerAddition( function(error, event){ console.log(event); }).on('data', function(event){\n  console.log(event); // same results as the optional callback above\n}).on('changed', function(event){\n  // remove event from local database\n}).on('error', console.error);\n  this.state.contract1.events.newPlayerRegistration( function(error, event){ console.log(event); }).on('data', function(event){\n   console.log(event); // same results as the optional callback above\n}).on('changed', function(event){\n   // remove event from local database\n}).on('error', console.error);\nthis.state.contract1.events.playerDesignReceived( function(error, event){ console.log(event); }).on('data', function(event){\n console.log(event); // same results as the optional callback above\n}).on('changed', function(event){\n // remove event from local database\n}).on('error', console.error);\nthis.state.contract1.events.playerRevealed( function(error, event){ console.log(event); }).on('data', function(event){\n console.log(event); // same results as the optional callback above\n}).on('changed', function(event){\n // remove event from local database\n}).on('error', console.error);\n  }\n//carico la finestra (metamask) web3 o la converto in web3\n  async loadWeb3() {\n   if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n      await window.ethereum.enable()\n      await this.setState({ethBrowser : true})\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n      await this.setState({ethBrowser : true})\n    }\n    else {\n      console.log('Non-Ethereum browser detected. ')\n      await this.setState({ethBrowser : false})\n      await this.setState({loading : false})\n      return\n    }\n  }\n// dati della blockchain:\n//account è l'indirizzo di colui che firma la transazione\n//networkid è l'id della connessione es:localhost:7545\n//contract è la variabile del contratto\n//designHash è l'hash del file salvato sull'ipfs\n  async loadBlockchainData() {\n    const web3 = window.web3\n    const accounts = await web3.eth.getAccounts()\n    this.setState({ account: accounts[0] })\n    console.log(accounts)\n    const networkId = await web3.eth.net.getId()\n    console.log(networkId)\n    const networkData = designVoting.networks[networkId]\n    console.log(networkData)\n    if(networkData) {\n      const contract = web3.eth.Contract(designVoting.abi, networkData.address)\n      const contract1 = web3s.eth.Contract(designVoting.abi, networkData.address)\n      this.setState({ contract : contract, contract1 : contract1 })\n    } else {\n      window.alert('Smart contract not deployed to detected network.')\n    }\n  }\n  getBytes32FromIpfsHash(_ipfsListing) {\n    return \"0x\"+bs58.decode(_ipfsListing).slice(2).toString('hex')\n  }\n  getIpfsHashFromBytes32(bytes32Hex) {\n    const hashHex = \"1220\" + bytes32Hex.slice(2)\n    const hashBytes = Buffer.from(hashHex, 'hex');\n    const hashStr = bs58.encode(hashBytes)\n    return hashStr\n  }\n\n\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      contract1: null,\n      designHash: '',\n      contract: null,\n      web3: null,\n      buffer: null,\n      account: null,\n      designName: '',\n      desc:'',\n      stlLink: null,\n      objLink: null,\n      designFormat : 'stl',\n      username:'',\n      password:'',\n      confirmPassword:'',\n      privateKey:'',\n      email:'',\n      register : false,\n      ethBrowser : false,\n      invalidEmail : false,\n      name : '',\n      surname : '',\n      isLogged : false,\n      invalidLogin : false,\n      disableStl : true,\n      disableObj : true,\n      announce : false,\n      main : false,\n      loading : true,\n      file : null,\n      amount : \"0.00\",\n      expiry : \"0\",\n      registrationType : 'designer',\n      designer : false,\n      player : false,\n      avaibleDesign : [],\n      currentDesigns : false,\n      invalidRegistration : false,\n      invalidPassword : false,\n      playerDetails: false,\n      playerDet: [],\n      designSel: '',\n      designSelected: false,\n      manager: false,\n      currentDesignsM: false,\n      playerList: [],\n      designSelectedM: false,\n      registeredDesigns: false,\n      designVoted: false,\n      voteSelected: \"1\",\n      nounce: null,\n      commited: false,\n      calculateResult: false\n    }\n  }\n\n\n\n\n\n//login part\ntestMeta = (event) =>{\n  event.preventDefault()\n  const web3 = window.web3\n  const try1 =  web3.eth.accounts.create();\n console.log(try1)\n}\nstartApi =  (event) =>{\n  event.preventDefault()\n  axios.get('http://127.0.0.1:5000/api/get1').then(response => {\n  console.log(response.data)\n});\n}\nstartApi2 = async (event) =>{\n  event.preventDefault()\n  console.log(\"sending data\")\n  const username = this.state.username\n  const password = this.state.password\n  const hpassword = keccak256(password).toString('hex')\n  const wallet = this.state.account\n  if(wallet == \"0x22B4d38AE07fEac63Da3fa2B33b72558874F2Cf6\") {\n                                          console.log(\"manager setting\")\n                                          this.setState({manager: true})\n                                          Cookies.set('manager','true')\n                                        }\n  axios.post('http://127.0.0.1:5000/api/post1',{\n    username : username,\n    password : hpassword,\n    wallet : wallet\n  }).then(response => {\n  if (response.data.length == 1) {\n    const name = response.data[0][3]\n    const surname = response.data[0][4]\n    const email = response.data[0][6]\n    const registrationType = response.data[0][7]\n    if(registrationType == \"designer\") {\n      this.setState({designer : true})\n      console.log(\"logged as designer\")\n    }\n    else if (registrationType == \"player\") {\n      this.setState({player : true})\n      console.log(\"logged as player\")\n    }\n    else if (registrationType == \"both\") {\n      this.setState({designer : true, player : true})\n      console.log(\"logged as player and designer\")\n    }\n    else {\n      console.log(\"error\")\n      return\n    }\n    this.setState({isLogged : true ,name : name, surname : surname, email: email})\n    this.setState({main : true})\n    const designer = this.state.designer\n    const player = this.state.player\n    Cookies.set('name', name)\n    Cookies.set('surname', surname)\n    Cookies.set('email', email)\n    Cookies.set('log', 'true')\n    Cookies.set('main','true')\n    Cookies.set('designer', designer)\n    Cookies.set('player', player)\n    console.log(response.data[0])\n  }\n  else {\n    this.setState({invalidLogin : true})\n    console.log(\"invalid login\")\n  }\n});\n}\n\ncaptureFileL = async (event)=> {\n  event.preventDefault()\n  console.log(\"charging username\")\n  const stri = event.target.value\n  await this.setState({ username: stri })\n  console.log(this.state.username)\n}\ncaptureFileL1 = async (event)=> {\n  event.preventDefault()\n  console.log(\"charging password\")\n  const stri = event.target.value\n  await this.setState({ password: stri })\n  console.log(this.state.password)\n}\ncaptureFileL2 = async (event)=> {\n  event.preventDefault()\n  console.log(\"charging email\")\n  const stri = event.target.value\n  var check = stri.includes(\"@\")\n  var check1 = stri.includes(\".\")\n  if(check && check1) {\n  await this.setState({invalidEmail : false})\n  await this.setState({ email: stri })\n  console.log(this.state.email)}\n  else {\n    await this.setState({invalidEmail : true })\n    console.log(\"invalidEmail\")\n  }\n}\n\ncaptureFileL3 = async (event)=> {\n  event.preventDefault()\n  console.log(\"charging name\")\n  const stri = event.target.value\n  await this.setState({ name: stri })\n  console.log(this.state.name)\n}\ncaptureFileL4 = async (event)=> {\n  event.preventDefault()\n  console.log(\"charging surname\")\n  const stri = event.target.value\n  await this.setState({ surname: stri })\n  console.log(this.state.surname)\n}\ncaptureFileL5 = async (event)=> {\n  event.preventDefault()\n  console.log(\"charging confirm password\")\n  const stri = event.target.value\n  await this.setState({ confirmPassword: stri })\n  console.log(this.state.confirmPassword)\n}\nsetRegister = async (event) => {\n  event.preventDefault()\n  console.log(\"register init\")\n  await this.setState({register : true})\n}\nReturn = async (event) => {\n  event.preventDefault()\n  console.log(\"register aborted\")\n  await this.setState({register : false})\n}\nsendData =  (event) => {\n  event.preventDefault()\n  const valid = this.state.invalidEmail\n  if (valid) return\n  console.log(\"sending data\")\n  const username = this.state.username\n  const password = this.state.password\n  const confirmPassword = this.state.confirmPassword\n  if(confirmPassword == password)\n  {\n    const hpassword = keccak256(password).toString('hex')\n    const wallet = this.state.account\n    const email = this.state.email\n    const name = this.state.name\n    const surname = this.state.surname\n    const registrationType = this.state.registrationType\n    console.log(wallet)\n    axios.post('http://127.0.0.1:5000/api/post2',{\n               username : username,\n               password : hpassword,\n               wallet : wallet,\n               email : email,\n               name : name,\n               surname : surname,\n               registrationType : registrationType\n                    }).then(async (response) => {\n                                console.log(response.data)\n                                if(response.data == \"succes\")\n                                {\n                                    await this.setState({register : false})\n                                    if (registrationType == \"player\") {\n                                             console.log(\"adding player phase\")\n                                             const web3 = window.web3\n                                             const account = this.state.account\n                                             console.log(account)\n                                             const hash = keccak256(account);\n                                             const fhash = '0x'+ hash\n                                             console.log(hash)\n                                             await web3.eth.personal.sign(fhash, account ,(err,res) =>{\n                                                                   if(res){\n                                                                         console.log(\"signature:\", res)\n                                                                         web3.eth.personal.ecRecover(fhash, res).then(console.log)\n                                                                        this.state.contract.methods.addPlayer(fhash, res).send({from : account}).on('error', function(error){\n                                                                          const string = error.message;\n                                                                          const substring = \"Player already added to the system.\";\n                                                                          const substring1 = \"MetaMask Tx Signature: User denied transaction signature.\"\n                                                                          const substring2 = \"The registration identity verification failed.\"\n                                                                          if(string.includes(substring)) console.log(substring)\n                                                                          if(string.includes(substring1)) console.log(substring1)\n                                                                          if(string.includes(substring2)) console.log(substring2)\n                                                                          return})\n                                                                           }\n                                                                   if(err){console.log(\"err\");return}\n                                                                 })\n                                                                }\n                                     else if (registrationType == \"both\") {\n                                            console.log(\"adding player phase (from both)\")\n                                            const web3 = window.web3\n                                            const account = this.state.account\n                                            console.log(account)\n                                            const hash = keccak256(account);\n                                            const fhash = '0x'+hash\n                                            console.log(fhash)\n                                            await web3.eth.personal.sign(fhash, account ,(err,res) =>{\n                                                                  if(res){\n                                                                        console.log(\"signature:\", res)\n                                                                        web3.eth.personal.ecRecover(fhash, res).then(console.log)\n                                                                        this.state.contract.methods.addPlayer(fhash, res).send({from : account}).on('error', function(error){\n                                                                          const string = error.message;\n                                                                          const substring = \"Player already added to the system.\";\n                                                                          const substring1 = \"MetaMask Tx Signature: User denied transaction signature.\"\n                                                                          const substring2 = \"The registration identity verification failed.\"\n                                                                          if(string.includes(substring)) console.log(substring)\n                                                                          if(string.includes(substring1)) console.log(substring1)\n                                                                          if(string.includes(substring2)) console.log(substring2)\n                                                                          return})\n                                                                        }\n                                                                   if(err){console.log(\"err\");return}\n                                                                   })\n                                                                  }\n                                    else {\n                                          console.log(\"designer\")\n                                          return\n                                         }\n                              }\n                          else\n                              {\n                                console.log(\"invalid registration\")\n                                this.setState({invalidPassword : false})\n                                this.setState({invalidRegistration : true})\n                              }\n                           });\n}\nelse{\n    console.log(\"invalid password\")\n    this.setState({invalidRegistration : false})\n    this.setState({invalidPassword : true})\n    return\n   }\n}\nlogoutU = async (event) => {\n  event.preventDefault()\n  console.log(\"logout\")\n  Cookies.remove('log')\n  Cookies.remove('announce')\n  Cookies.remove('name')\n  Cookies.remove('surname')\n  Cookies.remove('email')\n  Cookies.remove('designer')\n  Cookies.remove('player')\n  Cookies.remove('manager')\n  await this.setState({isLogged : false})\n  await this.setState({announce : false})\n  console.log(this.state.isLogged)\n}\nregistrationType = async (event) => {\n  event.preventDefault()\n  console.log(\"type registration selected\")\n  const registrationType =  event.target.value\n  console.log(this.state.registrationType)\n  console.log(event.target.value)\n  await  this.setState({registrationType : registrationType })\n  console.log(this.state.registrationType)\n}\n//end login part\n\n\n//main part\ntoUpload = async (event) =>{\n  event.preventDefault()\n  console.log(\"to Upload a design\")\n  await this.setState({announce : true})\n  await this.setState({main : false})\n  Cookies.set('announce','true')\n  Cookies.remove('main')\n}\nlogoutM = async (event) => {\n  event.preventDefault()\n  console.log(\"logout\")\n  Cookies.remove('log')\n  Cookies.remove('main')\n  Cookies.remove('name')\n  Cookies.remove('surname')\n  Cookies.remove('email')\n  Cookies.remove('designer')\n  Cookies.remove('player')\n  Cookies.remove('manager')\n  await this.setState({isLogged : false})\n  await this.setState({main : false})\n  console.log(this.state.isLogged)\n}\ntoCurrentDesigns = async (event) =>{\n  event.preventDefault()\n  console.log(\"to current designs\")\n  this.state.contract.methods.getNumDesignes().call({from: this.state.account}).then( async (res) =>{\n    var index = res.toString()\n    Cookies.set('designIndex', index)\n    console.log(index)\n    let result1=[]\n   for(var i=0; i<index; i++){\n    await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n      result1.push(r)\n    })\n    console.log(\"decoding\")\n  if(result1[i] !='undefinied'){  var tmp = this.getIpfsHashFromBytes32(result1[i].filehash)\n    tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n    console.log(tmp)\n    result1[i].filehash=tmp\n    result1[i][\"designNo\"] = i\n    console.log(result1)\n    this.setState({avaibleDesign : result1})}\n  }\n  })\n  await this.setState({currentDesigns : true})\n  await this.setState({main : false})\n  Cookies.set('currentDesigns','true')\n  Cookies.remove('main')\n}\ntoPlayerDetails =  (event) =>{\n  event.preventDefault()\n  console.log(\"to Player details\")\n  const address = this.state.account\n  console.log(address)\n  this.state.contract.methods.getPlayerDetails(address).call({from: address}).then((r) =>{\n    console.log(r)\n    r[0]=r[0].toString()\n    r[1]=r[1].toString()\n    r[2]=r[2].toString()\n    console.log(r)\n    this.setState({playerDet: r})\n    this.setState({playerDetails: true})\n    this.setState({main : false})\n    Cookies.remove('main')\n    Cookies.set('playerDet', r)\n    Cookies.set('playerDetails', 'true')\n  })\n}\ntoRegisteredDesigns = async (event) =>{\n  event.preventDefault()\n  console.log(\"to registered designs\")\n  const account = this.state.account\n  this.state.contract.methods.getNumDesignes().call({from: this.state.account}).then( async (res) =>{\n    var index = res.toString()\n    console.log(\"num designes\", index)\n    Cookies.set('designVotingIndex', index)\n    let result1=[]\n    var result2=\"true\"\n    var k=0\n   for(var i=0; i<index; i++){\n     await this.state.contract.methods.getRegPlayerAddresses(i).call({from: this.state.account}).then( async(re) =>{\n       const addresses = re\n       console.log(\"addresses\", addresses)\n       const isRegistered = addresses.includes(account)\n       console.log(\"is registered:\",isRegistered)\n       if (isRegistered == true){\n         await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n           result1.push(r)\n           console.log(\"result\",k,result1)\n           result2=\"true\"\n         })\n       }\n       else{\n         console.log(\"not registered\")\n         result2=\"false\"\n         k=k-1\n       }\n     })\n   console.log(\"decoding\")\n   console.log(\"result\",result1[k])\n  if(result2==\"true\")  {\n    var tmp = this.getIpfsHashFromBytes32(result1[k].filehash)\n    tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n    console.log(tmp)\n    result1[k].filehash=tmp\n    result1[k][\"designNo\"] = i\n    console.log(result1)\n    this.setState({avaibleDesign : result1})\n  }\n  k=k+1\n  }\n  })\n  await this.setState({registeredDesigns : true})\n  Cookies.set('registeredDesigns', 'true')\n  await this.setState({main : false})\n  Cookies.remove('main')\n}\n\ntoCalculateResult = async (event) =>{\n  event.preventDefault()\n  console.log(\"to calculateResult\")\n  this.state.contract.methods.getNumDesignes().call({from: this.state.account}).then( async (res) =>{\n    var index = res.toString()\n    Cookies.set('calculateResultIndex', index)\n    console.log(index)\n    let result1=[]\n    var result2=\"true\"\n    var k=0\n   for(var i=0; i<index; i++){\n    await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n      if (r.vendor == this.state.account) {\n        result1.push(r)\n        result2=\"true\"\n      }\n      else{\n        result2=\"false\"\n        k=k-1\n      }\n    })\n    console.log(\"decoding\")\n    if(result2==\"true\"){  var tmp = this.getIpfsHashFromBytes32(result1[k].filehash)\n    tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n    console.log(tmp)\n    result1[k].filehash=tmp\n    result1[k][\"designNo\"] = i\n    console.log(result1)\n    this.setState({avaibleDesign : result1})}\n    k=k+1\n  }\n  })\n  await this.setState({calculateResult : true})\n  await this.setState({main : false})\n  Cookies.set('calculateResult','true')\n  Cookies.remove('main')\n}\n//end main part\n\n\n\n\n\n\n\n//PLayer details\ntoMainPd = async (event) => {\n  event.preventDefault()\n  console.log(\"to Main\")\n  Cookies.remove('playerDetails')\n  Cookies.remove('playerDet')\n  await this.setState({playerDetails : []})\n  await this.setState({playerDetails : false})\n  await this.setState({main : true})\n  Cookies.set('main','true')\n}\nrefreshPd = (event) =>{\n  event.preventDefault()\n  console.log(\"refreshing\")\n  const address = this.state.account\n  console.log(address)\n  this.state.contract.methods.getPlayerDetails(address).call({from: address}).then((r) =>{\n    console.log(r)\n    r[0]=r[0].toString()\n    r[1]=r[1].toString()\n    r[2]=r[2].toString()\n    console.log(r)\n    this.setState({playerDet: r})\n    Cookies.set('playerDet', r)\n  })\n}\n//End Player details\n\n\n//current Designs part\n\ntoMainC = async (event) => {\n  event.preventDefault()\n  console.log(\"to Main\")\n  Cookies.remove('currentDesigns')\n  Cookies.remove('designIndex')\n   Cookies.remove('designSelectedM')\n  await this.setState({currentDesigns : false})\n  await this.setState({main : true})\n  Cookies.set('main','true')\n}\nrefreshC = (event) =>{\n  event.preventDefault()\n  this.state.contract.methods.getNumDesignes().call({from: this.state.account}).then( async (res) =>{\n    var index = res.toString()\n    Cookies.set('designIndex', index)\n    console.log(index)\n    let result1=[]\n   for(var i=0; i<index; i++){\n    await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n      result1.push(r)\n    })\n    console.log(\"decoding\")\n    var tmp = this.getIpfsHashFromBytes32(result1[i].filehash)\n    tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n    console.log(tmp)\n    result1[i].filehash=tmp\n    result1[i][\"designNo\"] = i\n    console.log(result1)\n    this.setState({avaibleDesign : result1})\n  }\n  })\n}\ndesignSelected1 = (event) =>{\n  event.preventDefault();\n  const index = event.target.value\n  console.log(\"selected designNo:\", index)\n  this.setState({designSel : index})\n  this.setState({designSelected : true})\n}\ndesignSelected2 = (event) =>{\n  event.preventDefault()\n  const index =  this.state.designSel\n  console.log(\"selected designNo:\", index)\n  const web3 = window.web3\n  const account = this.state.account\n  console.log(account)\n  const hash = keccak256(account);\n  const fhash = '0x'+hash\n  console.log(fhash)\n  web3.eth.personal.sign(fhash, account ,(err,res) =>{\n                        if(res){\n                          const amount1 = this.state.amount\n                          console.log(amount1)\n                          const amount = web3.utils.toWei(amount1.toString(), 'ether');\n                              console.log(\"signature:\", res)\n                              web3.eth.personal.ecRecover(fhash, res).then(console.log)\n                             this.state.contract.methods.register(fhash, res, index, amount).send({from : account, value: amount}).on('error', function(error){\n                               const string = error.message;\n                               const substring1 = \"The registration identity verification failed.\";\n                               const substring = \"MetaMask Tx Signature: User denied transaction signature.\"\n                               const substring2 = \"The commitment should be more than 0.\";\n                               const substring3 = \"The registration didn't receive the commitment.\"\n                               const substring4 = \"The commitment should be greater than the penalty.\"\n                               const substring5 = \"No more registrations are accepted.\"\n                               const substring6 = \"Player already registered.\"\n                               if(string.includes(substring)) console.log(substring)\n                               if(string.includes(substring1)) console.log(substring1)\n                               if(string.includes(substring2)) console.log(substring2)\n                               if(string.includes(substring3)) console.log(substring3)\n                               if(string.includes(substring4)) console.log(substring4)\n                               if(string.includes(substring5)) console.log(substring5)\n                               if(string.includes(substring6)) console.log(substring6)\n                               return})\n                                }\n                        if(err){console.log(\"err\");return}\n                      })\n\n}\n//end current designs part\n\n\n\n\n\n\n\n//registered designs part\ntoMainR = async (event) => {\n  event.preventDefault()\n  console.log(\"to Main\")\n  Cookies.remove('registeredDesigns')\n  Cookies.remove('designVotingIndex')\n   Cookies.remove('designSelectedM')\n  await this.setState({registeredDesigns : false})\n  await this.setState({main : true})\n  Cookies.set('main','true')\n}\npreCommit = async (event) =>{\n  event.preventDefault();\n  const index = event.target.value\n  console.log(\"selected designNo:\", index)\n  this.setState({designSel : index})\n  this.setState({designVoted : true})\n}\nvoteSelection = async (event) =>{\n  event.preventDefault()\n  console.log(this.state.voteSelected)\n  const voteSelected = event.target.value\n  await this.setState({voteSelected : voteSelected})\n  console.log(\"vote selected\", this.state.voteSelected)\n}\ncommit = async (event) =>{\n  event.preventDefault()\n  const web3 = window.web3\n  const nounce = Math.floor(Math.random() * 10000).toString()\n  const hashNounce = keccak256(nounce)\n  const fhashNounce = '0x'+hashNounce\n  await this.setState({nounce : fhashNounce})\n  console.log(\"nounce\",fhashNounce)\n  const vote = this.state.voteSelected\n  console.log(\"vote\",vote)\n  const string=vote+fhashNounce\n  const cryptoCommitment = web3.utils.soliditySha3(vote, fhashNounce)\n  const cryptoCommitment1 = keccak256(string)\n  const fcryptoCommitment1 = '0x'+ cryptoCommitment\n  console.log(\"cryptoCommitment\",cryptoCommitment,fcryptoCommitment1)\n  const designNo = this.state.designSel\n  console.log(\"designNo\",designNo)\n  var currentTimeInSeconds=Math.floor(Date.now()/1000);\n  console.log(\"timestamp\",currentTimeInSeconds)\n  this.state.contract.methods.commit(designNo, cryptoCommitment, currentTimeInSeconds).send({from : this.state.account }).on('error', (error) =>{\n    const string = error.message;\n    const substring = \"MetaMask Tx Signature: User denied transaction signature.\"\n    const substring1 = \"The player can commit only when manager confirms design exchange.\";\n    const substring2 = \"The player cannot vote after expiry.\";\n    if(string.includes(substring))  {\n      console.log(substring)\n      this.setState({commited: false})\n    }\n    if(string.includes(substring1)) {\n      console.log(substring1)\n      this.setState({commited: false})\n    }\n    if(string.includes(substring2)) {\n      console.log(substring2)\n      this.setState({commited:false})\n    }\n    return})\n console.log(\"right commited\")\n this.setState({commited: true})\n}\nreveal = async (event) =>{\n  event.preventDefault()\n  console.log(\"reveal\")\n  const designNo = this.state.designSel\n  console.log(\"designNo\",designNo)\n  var currentTimeInSeconds=Math.floor(Date.now()/1000);\n  console.log(\"timestamp\",currentTimeInSeconds)\n  const nounce = this.state.nounce\n  console.log(\"nounce\",nounce)\n  const vote = this.state.voteSelected\n  console.log(\"vote\",vote)\n   this.state.contract.methods.reveal(designNo, vote, nounce, currentTimeInSeconds).send({from : this.state.account }).on('error', function(error){\n    const string = error.message;\n    const substring = \"MetaMask Tx Signature: User denied transaction signature.\"\n    const substring1 = \"The vote cannot be revealed after the expiry.\";\n    const substring2 = \"The player did not commit to this.\";\n    if(string.includes(substring)) console.log(substring)\n    if(string.includes(substring1)) console.log(substring1)\n    if(string.includes(substring2)) console.log(substring2)\n    return})\n\n}\n//end registered designs part\n\n\n\n\n\n\n\n\n//announce part\nsetCommit = (event, maskedvalue, floatvalue) => {\n       this.setState({amount: floatvalue});\n       console.log(floatvalue)\n   }\n  formatSelect = async (event) => {\n    event.preventDefault()\n    console.log(\"format selected\")\n    this.state.contract.methods.setReveal(180).send({from:this.state.account})\n    const designFormat =  event.target.value\n    console.log(this.state.designFormat)\n    console.log(event.target.value)\n    await  this.setState({designFormat : designFormat })\n    console.log(this.state.designFormat)\n  }\n\n\n  captureFile = async (event) => {\n    event.preventDefault()\n    const file = event.target.files[0]\n     this.state.contract.methods.setExpiry(180).send({from:this.state.account})\n    //var stl = new NodeStl( file, {density: 1.04});\n  //  console.log(stl.volume);\n   const format = this.state.designFormat\n   if(format == \"stl\"){\n     this.setState({ stlFile: file })\n     this.setState({disableObj : false})\n     this.setState({disableStl : true})\n     console.log(this.state.stlFile)\n   }\n   else {\n     if(format == 'obj'){\n      this.setState({objFile : file})\n      this.setState({disableStl: false})\n      this.setState({disableObj : true})\n      console.log(this.state.objFile)\n     }\n     else {\n       console.log(\"format not selected\")\n     }\n   }\n    const reader = new window.FileReader()\n    reader.readAsArrayBuffer(file)\n    reader.onloadend = () => {\n      this.setState({ buffer: Buffer(reader.result) })\n      console.log('buffer', this.state.buffer)\n    }\n  }\n captureFile2 = async (event) => {\n event.preventDefault()\n console.log(\"charging designName\")\n const stri = event.target.value\n await this.setState({ designName: stri })\n console.log(this.state.designName)\n }\n captureFile5 = async (event) => {\n event.preventDefault()\n console.log(\"charging design description\")\n const stri = event.target.value\n await this.setState({ desc: stri})\n console.log(this.state.desc)\n }\n  onSubmit = async (event) => {\n    event.preventDefault()\n\n    await ipfs.add(this.state.buffer, async (error, result)  => {\n      console.log('Ipfs result', result)\n      if(error) {\n        console.error(error)\n        return\n      }\n      console.log(result)\n      this.setState({ designHash: result[0].hash })\n     console.log(\"Submitting data to ipfs\")\n      const designName = this.state.designName;\n      const desc = this.state.desc;\n      const makerName = this.state.name;\n      const makerSurname = this.state.surname;\n      const designHash = this.state.designHash;\n      if (designName == '' || makerName == '' || makerSurname == '' || desc == ''){\n        console.log(\"metadata not saved\")\n        this.setState({designName:'',makerName:'',makerSurname:'',desc:''})\n        return\n      }\n     else{\n       if(designHash == ''){\n         console.log(\"design not uploaded\")\n       }\n       else{\n           const toJSON = {\n               designName : designName,\n               makerName : makerName,\n               makerSurname : makerSurname,\n               desc : desc,\n               designHash : designHash\n               };\n       const myJson = JSON.stringify(toJSON) ;\n       console.log(toJSON)\n       console.log(myJson)\n       var buf = Buffer.from(myJson);\n       ipfs.add(buf, (error, result) => {\n         console.log('Ipfs result', result)\n         if(error) {\n           console.error(error)\n           return\n         }\n          console.log(result[0].hash)\n       })\n       this.setState({designName:'',makerName:'',makerSurname:'',desc:''})\n       }\n       }\n       this.state.contract.methods.getExpiry().call({from: this.state.account}).then((res) => {var hash = this.state.designHash\n       console.log(\"inizio conv\")\n    const fhash = this.getBytes32FromIpfsHash(hash)\n    const web3 = window.web3\n      console.log(\"solo fixedhash\",fhash)\n      console.log(this.state.contract)\n           console.log(res)\n    var currentTimeInSeconds=Math.floor(Date.now()/1000);\n           console.log(currentTimeInSeconds)\n     const amount1 = this.state.amount\n     console.log(amount1)\n     const amount = web3.utils.toWei(amount1.toString(), 'ether');\n          console.log(amount)\n     const manager = \"0x22B4d38AE07fEac63Da3fa2B33b72558874F2Cf6\"\n    console.log('start smart contract call')\n    this.state.contract.methods.announce(fhash, currentTimeInSeconds, res, amount, manager).send({from : this.state.account, value : amount }).on('transactionHash', function(hash){ console.log(\"Hash: \" + hash);\n}).on('error', function(error){\n                          console.log(error);\n                          const string = error.message\n                          const substring = \"MetaMask Tx Signature: User denied transaction signature.\";\n                          const substring1 = \"The commitment should be more than 0.\";\n                          const substring2 = \"The announcement didn't receive the commitment.\";\n                          if(string.includes(substring)) console.log(substring);\n                          if(string.includes(substring1)) console.log(substring1);\n                          if(string.includes(substring2)) console.log(substring2);\n                                 return}).on('confirmation', function(confirmationNumber, receipt){\n                                                                               console.log(receipt)\n                                                                                }).on('receipt', function(receipt){\n                                                                                         console.log(\"provareceipt\")\n                                                                           })})\n                                          })\n  }\n  toMainU = async (event) => {\n    event.preventDefault()\n    console.log(\"to Main\")\n    Cookies.remove('announce')\n    await this.setState({announce : false})\n    await this.setState({main : true})\n    Cookies.set('main','true')\n    console.log(this.state.announce)\n  }\n  // end announce part\n\n\n\n\n\n//calculate result part\ntoMainCR = async (event) => {\n  event.preventDefault()\n  console.log(\"to Main\")\n  Cookies.remove('calculateResult')\n  Cookies.remove('calculateResultIndex')\n  Cookies.remove('designIndex')\n  Cookies.remove('designSel')\n  Cookies.remove('designSelectedM')\n  await this.setState({calculateResult : false})\n  await this.setState({designSelectedM: false})\n  await this.setState({main : true})\n  Cookies.set('main','true')\n}\ncalculateResult = (event) =>{\n  event.preventDefault()\n  console.log(\"calculating\")\n  var currentTimeInSeconds=Math.floor(Date.now()/1000);\n         console.log(\"timestamp\", currentTimeInSeconds)\n  const designNo = event.target.value\n  console.log(\"designNo\", designNo)\n  this.state.contract.methods.calculateResult(designNo, currentTimeInSeconds).send({from : this.state.account }).on('error', function(error){\n   const string = error.message;\n   const substring = \"MetaMask Tx Signature: User denied transaction signature.\"\n   const substring1 = \"The result cannot be revealed before the expiry.\";\n   if(string.includes(substring)) console.log(substring)\n   if(string.includes(substring1)) console.log(substring1)\n   return})\n}\n//end calculate result\n\n\n\n\n\n\n  //manager part\ntoCurrentDesignsM = async (event) =>{\n  event.preventDefault()\n  console.log(\"to current designs\")\n  this.state.contract.methods.getNumDesignes().call({from: this.state.account}).then( async (res) =>{\n    var index = res.toString()\n    Cookies.set('designIndex', index)\n    console.log(index)\n    let result1=[]\n   for(var i=0; i<index; i++){\n    await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n      result1.push(r)\n    })\n    console.log(\"decoding\")\n    var tmp = this.getIpfsHashFromBytes32(result1[i].filehash)\n    tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n    console.log(tmp)\n    result1[i].filehash=tmp\n    result1[i][\"designNo\"] = i\n    console.log(result1)\n    this.setState({avaibleDesign : result1})\n  }\n  })\n  await this.setState({currentDesignsM : true})\n  await this.setState({main : false})\n  Cookies.set('currentDesignsM','true')\n  Cookies.remove('main')\n}\n\n\n\n\n\ntoMainCM = async (event) => {\n  event.preventDefault()\n  console.log(\"to Main\")\n  Cookies.remove('currentDesignsM')\n  Cookies.remove('designIndex')\n  Cookies.remove('designSel')\n  Cookies.remove('designSelectedM')\n  await this.setState({currentDesignsM : false})\n  await this.setState({designSelectedM: false})\n  await this.setState({main : true})\n  Cookies.set('main','true')\n}\ndesignSelected1M = (event) =>{\n  event.preventDefault();\n  const index = event.target.value\n  console.log(\"selected designNo:\", index)\n  this.setState({designSel : index})\n  Cookies.set('designSel', index)\n  this.setState({designSelectedM : true})\n  Cookies.set('designSelectedM','true')\n   this.setState({currentDesignsM : false})\n   Cookies.remove('currentDesignsM')\n     this.state.contract.methods.getRegPlayerAddresses(index).call({from: this.state.account}).then((r) =>{\n      const result1=r\n      console.log(result1)\n      this.setState({playerList : result1})\n    })\n}\ndesignSelected2M = (event) =>{\n  event.preventDefault()\n  const playerAddress =  event.target.value\n  const designNo = this.state.designSel\n  console.log(\"design selected:\", designNo)\n  console.log(\"selected player:\", playerAddress)\n  const web3 = window.web3\n  this.state.contract.methods.isFileReceived(playerAddress, designNo).call({from: this.state.account}).then((res) =>{\n               if(res == false){\n                 this.state.contract.methods.setReceived(designNo, playerAddress).send({from: this.state.account}).on('error', function(error){\n                   const string = error.message;\n                   const substring = \"MetaMask Tx Signature: User denied transaction signature.\"\n                   const substring1 = \"Only manager can call this function.\"\n                   if(string.includes(substring)) console.log(substring)\n                   if(string.includes(substring1)) console.log(substring1)\n                   return})\n               }\n             else if(res == true){\n               console.log(\"File already received\")\n               return\n             }\n             else{\n               console.log(\"error\")\n             }\n  })\n\n\n}\nrefreshCM = (event) =>{\n  event.preventDefault()\nif(this.state.currentDesignsM == true){\n  this.state.contract.methods.getNumDesignes().call({from: this.state.account}).then( async (res) =>{\n    var index = res.toString()\n    Cookies.set('designIndex', index)\n    console.log(index)\n    let result1=[]\n   for(var i=0; i<index; i++){\n    await this.state.contract.methods.getDesigne(i).call({from: this.state.account}).then((r) =>{\n      result1.push(r)\n    })\n    console.log(\"decoding\")\n    var tmp = this.getIpfsHashFromBytes32(result1[i].filehash)\n    tmp = \"https://ipfs.infura.io/ipfs/\"+tmp\n    console.log(tmp)\n    result1[i].filehash=tmp\n    result1[i][\"designNo\"] = i\n    console.log(result1)\n    this.setState({avaibleDesign : result1})\n  }\n})}\nif(this.state.designSelectedM == true){\n  const index = this.state.designSel\n  this.state.contract.methods.getRegPlayerAddresses(index).call({from: this.state.account}).then((r) =>{\n   const result1=r\n   console.log(result1)\n   this.setState({playerList : result1})\n })\n}\n}\n//end manager part\n\n\n\n  render() {\n    return (\n      <div>\n        <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n          <a\n            className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            App di prova\n          </a>\n        </nav>\n        <div className=\"container-fluid mt-5\">\n          <div className=\"row\">\n            <main role=\"main\" className=\"col-lg-12 d-flex text-center\">\n              <div className=\"content mr-auto ml-auto\">\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                </a>\n\n                {/* loading part*/}\n                {(this.state.loading) && (<h1>Loading</h1>)}\n                {/*end loading part*/}\n\n                {/*login section*/}\n                <div >\n                {(!this.state.isLogged && !this.state.loading && !this.state.register) && (<h1 id=\"param1\">Login Page</h1>)}\n                {(!this.state.isLogged && !this.state.loading && this.state.register) && (<h1 id=\"param16\">Register Page</h1>)}\n                {/* user logged with metamask */}\n                <form>\n                {(this.state.ethBrowser && !this.state.isLogged && !this.state.loading) && (  <label id=\"param2\" >\n                username:\n                <input type=\"text\"  onChange={this.captureFileL} />\n                </label>)}\n                </form>\n                {(this.state.ethBrowser && !this.state.isLogged && !this.state.loading) && (<form>\n                 <label id=\"param3\">\n                password:\n                <input type=\"password\"  onChange={this.captureFileL1} />\n                </label>\n                </form>)}\n                {(this.state.ethBrowser && !this.state.isLogged && !this.state.loading && this.state.register) && (<form>\n                 <label id=\"param17\">\n                confirm password:\n                <input type=\"password\"  onChange={this.captureFileL5} />\n                </label>\n                </form>)}\n                {(this.state.invalidLogin && !this.state.isLogged && this.state.ethBrowser && !this.state.loading) && (<div id=\"param6\">invalid username/password</div>)\n                }\n                { (this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading) ?\n                <form>\n                <label id=\"param7\">\n                name:\n                <input type=\"text\"  onChange={this.captureFileL3} />\n                </label>\n                 </form>  : null\n                }\n                { (this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading) ?\n                <form>\n                <label id=\"param8\">\n                surname:\n                <input type=\"text\"  onChange={this.captureFileL4} />\n                </label>\n                </form>  : null\n                }\n                { (this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading) ?\n                <form>\n                <label id=\"param9\">\n                email:\n                <input type=\"text\"  onChange={this.captureFileL2} />\n                </label>\n                 </form>  : null\n                }\n                {(this.state.register && this.state.ethBrowser && this.state.invalidEmail && !this.state.isLogged && !this.state.loading) && (\n                 <div id=\"param10\">invalid email</div>)\n                 }\n\n                { (!this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading) && (\n                <button className=\"button\" id=\"param4\" onClick={this.startApi2}>Login</button>)\n                }\n\n                { (!this.state.register && this.state.ethBrowser  && !this.state.isLogged && !this.state.loading)  && (\n                  <button className=\"button\" id=\"param5\" onClick={this.setRegister}>Register</button>)\n                }\n\n                {(this.state.register && this.state.ethBrowser  && !this.state.isLogged && !this.state.loading) && (<form >\n                <label id=\"param14\">\n               Registration Type:\n               <select onChange = {this.registrationType}>\n               <option value=\"designer\">designer</option>\n               <option value=\"player\">player</option>\n               <option value=\"both\">both</option>\n              </select>\n              </label>\n              </form>)}\n              {(this.state.register && this.state.ethBrowser && this.state.invalidRegistration && !this.state.isLogged && !this.state.loading) && (\n               <div id=\"param15\">Username or wallet already registered</div>)\n               }\n               {(this.state.register && this.state.ethBrowser && this.state.invalidPassword && !this.state.isLogged && !this.state.loading) && (\n                <div id=\"param18\">Password and Confirm Password are different</div>)\n                }\n                { (this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading) && (\n                  <button className=\"button\" id=\"param11\" onClick={this.sendData}>SendData</button>)\n                }\n\n                { (this.state.register && this.state.ethBrowser && !this.state.isLogged && !this.state.loading) && (\n                  <button className=\"button\" id=\"param12\" onClick={this.Return}>Return</button>)\n                }\n\n                {/* end user logged with metamask*/}\n                {/*user without metamask*/}\n                {(!this.state.ethBrowser && !this.state.isLogged && !this.state.loading && !this.state.loading) && (<div id=\"param13\">Non-Ethereum browser detected, please install metamask.<br />\n                [.....metamask tutorial <a id=\"para\" href={'https://metamask.io/download.html'}>here</a>...]\n                </div>)}\n                {/*user without metamask*/}\n                </div>\n                {/*end login section*/}\n\n\n\n\n\n\n\n                {/*main section*/}\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading) && (\n                <p id=\"param19\">User data:</p>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading) && (\n                <p id=\"param20\">name:{this.state.name}</p>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading) && (\n                <p id=\"param21\">surname:{this.state.surname}</p>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading) && (\n                <p id=\"param22\">email:{this.state.email}</p>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading) && (\n                <p id=\"param23\">wallet:{this.state.account}</p>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.designer) && (\n                <button className=\"button\" id=\"param25\" onClick={this.toUpload}>Upload a design</button>)\n                }\n                { ( this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading) && (\n                  <button className=\"button\" id=\"param28\" onClick={this.logoutU}>Logout</button>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player && !this.state.manager) && (\n                <button className=\"button\" id=\"param27\" onClick={this.toCurrentDesigns} >List avaible design to vote</button>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player ) && (\n                <button className=\"button\" id=\"param24\" onClick={this.toPlayerDetails} >Player details</button>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player && !this.state.manager) && (\n                <button className=\"button\" id=\"param26\" onClick={this.toRegisteredDesigns} >Vote registered design</button>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.designer && !this.state.manager) && (\n                <button className=\"button\"  onClick={this.toCalculateResult} >Calculate Result</button>)\n                }\n                {/*end main section*/}\n\n\n\n\n                {/*see avaible design*/}\n              { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && !this.state.manager) &&\n                  (<ul>\n                    <table ><tr><th >Design Number</th><th>creatorAddress</th><th>design</th></tr>{this.state.avaibleDesign.map((item)=><tr className=\"table\"  onClick={this.provaC}><td>{item.designNo.toString()}</td><td>{item.vendor.toString()}</td><td>{item.filehash.toString()}</td><td><button  className=\"button\" value={item.designNo.toString()} onClick={this.designSelected1}>Select</button></td></tr>)}</table>\n                </ul>)}\n\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && this.state.designSelected && !this.state.manager) &&(<form>\n                              amount:\n                                <CurrencyInput value={this.state.amount} onChangeEvent={this.setCommit}\n                                CurrencyInput suffix=\" ETH\" />\n                           </form>) }\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && this.state.designSelected && !this.state.manager) && (<form>\n                   <button  className=\"button\" onClick={this.designSelected2}>Submit</button></form>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && !this.state.manager) && (\n                  <button  className=\"button\" onClick={this.toMainC}>Return</button>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesigns && !this.state.manager) && (\n                  <button  className=\"button\" onClick={this.refreshC}>Refresh</button>)\n                }\n                {/*see avaible design*/}\n\n\n                {/*registered design*/}\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager) &&\n                    (<ul>\n                      <table ><tr><th>creatorAddress</th><th>design</th></tr>{this.state.avaibleDesign.map((item)=><tr className=\"table\"  onClick={this.provaC}><td>{item.vendor.toString()}</td><td>{item.filehash.toString()}</td><td><button  className=\"button\" value={item.designNo.toString()} onClick={this.preCommit}>Select</button></td></tr>)}</table>\n                  </ul>)}\n                  {(this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && this.state.designVoted) && (<form >\n                  <label>\n                 Select design vote:\n                 <select onChange = {this.voteSelection}>\n                 <option value=\"1\">valid</option>\n                 <option value=\"-1\">invalid</option>\n              </select>\n            </label>\n          </form>)}\n          { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && this.state.designVoted) && (<form>\n             <button  className=\"button\" onClick={this.commit}>Commit</button></form>)\n          }\n          { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager && this.state.designVoted && this.state.commited) && (<form>\n             <button  className=\"button\" onClick={this.reveal}>Reveal</button></form>)\n          }\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.registeredDesigns && !this.state.manager) && (\n                  <button  className=\"button\" onClick={this.toMainR}>Return</button>)\n                }\n                {/*registered design*/}\n\n\n\n\n\n                {/*player details*/}\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.playerDetails) &&\n                  (<ul>\n                    <p>reputation:{this.state.playerDet[0]}<br/>weight:{this.state.playerDet[1]}<br/>balance:{this.state.playerDet[2]}</p>\n                </ul>)}\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.playerDetails) && (\n                  <button  className=\"button\" onClick={this.refreshPd}>Refresh</button>)\n                }\n                { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.playerDetails) && (\n                  <button  className=\"button\" onClick={this.toMainPd}>Return</button>)\n                }\n                {/*end player details*/}\n\n\n\n\n\n\n                {/*announce section*/}\n                {(this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (<div>Design caricato:</div>)}\n                {(this.state.ethBrowser && this.state.isLogged && this.state.disableStl && this.state.announce && !this.state.loading && this.state.stlFile && this.state.designer) ?\n                       <STLViewer\n                           onSceneRendered={(element) => {\n                               console.log(element)\n                           }}\n                           sceneClassName=\"test-scene\"\n                           file={this.state.stlFile}\n                           className=\"obj\"\n                           modelColor=\"#FF0000\"/> : null\n\n                   }\n               {(this.state.ethBrowser && this.state.isLogged && this.state.disableObj && this.state.announce && !this.state.loading && this.state.objFile && this.state.designer) ?\n                        <OBJViewer\n                            onSceneRendered={(element) => {\n                                console.log(element)\n                            }}\n                            sceneClassName=\"test-scene\"\n                            file={this.state.objFile}\n                            className=\"obj\"\n                            modelColor=\"#FF0000\"/> : null\n                    }\n\n                <p>&nbsp;</p>\n                {(this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (<h2>Change design</h2>)}\n                {(this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (<form>\n                  <input type='file'  onChange={this.captureFile} />\n                <p>&nbsp;</p>\n                </form>)}\n                {(this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (<form >\n                <p>&nbsp;</p>\n                <label>\n                Design title:\n                <input type=\"text\" onChange={this.captureFile2} />\n                </label>\n                </form>)}\n                {(this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (<form onSubmit={this.captureFile2}>\n               <label>\n                Design description:\n                <textarea onChange={this.captureFile5} />\n               </label>\n               </form>)}\n               { (this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) &&(<form>\n                             amount:\n                               <CurrencyInput value={this.state.amount} onChangeEvent={this.setCommit}\n                               CurrencyInput suffix=\" ETH\" />\n                          </form>) }\n              {(this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (<button className=\"button\" onClick={this.onSubmit}>Submit</button>)}\n              {(this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (<form >\n              <label>\n             Select design format:\n             <select onChange = {this.formatSelect}>\n             <option value=\"stl\">.stl</option>\n             <option value=\"obj\">.obj</option>\n          </select>\n        </label>\n      </form>)}\n      { (this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (\n        <button className=\"button\" onClick={this.logoutU}>Logout</button>)\n      }\n      { (this.state.ethBrowser && this.state.isLogged && this.state.announce && !this.state.loading && this.state.designer) && (\n        <button className=\"button\" onClick={this.toMainU}>Return</button>)\n      }\n      {/*end announce section*/}\n\n\n\n\n\n\n\n\n\n     {/*calculate result*/}\n\n     { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.designer && this.state.calculateResult && !this.state.manager) &&\n         (<ul>\n           <table ><tr><th >Design Number</th><th>design</th></tr>{this.state.avaibleDesign.map((item)=><tr className=\"table\"  onClick={this.provaC}><td>{item.designNo.toString()}</td><td>{item.filehash.toString()}</td><td><button  className=\"button\" value={item.designNo.toString()} onClick={this.calculateResult}>Select</button></td></tr>)}</table>\n       </ul>)}\n       { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.designer && this.state.calculateResult && !this.state.manager) && (\n         <button  className=\"button\" onClick={this.toMainCR}>Return</button>)\n       }\n\n     {/*end calculate result*/}\n\n\n\n\n\n\n\n\n\n\n      {/*manager part*/}\n\n      { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.manager) && (\n      <p>manager</p>)\n      }\n      { (this.state.ethBrowser && this.state.isLogged && this.state.main && !this.state.loading && this.state.player && this.state.manager) && (\n      <button className=\"button\" id=\"param29\" onClick={this.toCurrentDesignsM} >manager design vote</button>)\n      }\n\n\n\n\n      { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && this.state.currentDesignsM && this.state.manager && !this.state.designSelectedM) &&\n          (<ul>\n            <table ><tr><th >Design Number</th><th>creatorAddress</th><th>design</th></tr>{this.state.avaibleDesign.map((item)=><tr className=\"table\"  onClick={this.provaC}><td>{item.designNo.toString()}</td><td>{item.vendor.toString()}</td><td>{item.filehash.toString()}</td><td><button  className=\"button\" value={item.designNo.toString()} onClick={this.designSelected1M}>Select</button></td></tr>)}</table>\n        </ul>)}\n    { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player  && this.state.manager && this.state.designSelectedM) &&\n            (<ul>\n              <table ><tr><th>Player Address</th></tr>{this.state.playerList.map((item)=><tr className=\"table\"  onClick={this.provaC}><td>{item.toString()}</td><td><button  className=\"button\" value={item.toString()} onClick={this.designSelected2M}>Select</button></td></tr>)}</table>\n          </ul>)}\n        { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && (this.state.currentDesignsM || this.state.designSelectedM) && this.state.manager) && (\n          <button  className=\"button\" onClick={this.toMainCM}>Return</button>)\n        }\n        { (this.state.ethBrowser && this.state.isLogged && !this.state.loading && this.state.player && (this.state.currentDesignsM || this.state.designSelectedM) && this.state.manager) && (\n          <button  className=\"button\" onClick={this.refreshCM}>Refresh</button>)\n        }\n      {/*end manager part*/}\n\n\n\n\n\n\n              </div>\n            </main>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}